/*! JsRender v1.0pre: http://github.com/BorisMoore/jsrender */
(function(n,t,i){"use strict";function g(n,t){t&&t.onError&&t.onError(n)===!1||(this.name="JsRender Error",this.message=n||"JsRender error")}function o(n,t){var i;n=n||{};for(i in t)n[i]=t[i];return n}function ot(n,t,i){return(!d.rTag||arguments.length)&&(p=n?n.charAt(0):p,y=n?n.charAt(1):y,f=t?t.charAt(0):f,h=t?t.charAt(1):h,w=i||w,n="\\"+p+"(\\"+w+")?\\"+y,t="\\"+f+"\\"+h,v="(?:(?:(\\w+(?=[\\/\\s\\"+f+"]))|(?:(\\w+)?(:)|(>)|!--((?:[^-]|-(?!-))*)--|(\\*)))\\s*((?:[^\\"+f+"]|\\"+f+"(?!\\"+h+"))*?)",d.rTag=v+")",v=new RegExp(n+v+"(\\/)?|(?:\\/(\\w+)))"+t,"g"),ht=new RegExp("<.*>|([^\\\\]|^)[{}]|"+n+".*"+t)),[p,y,f,h,w]}function hi(n,t){t||(t=n,n=i);var e,f,o,u,r=this,s=!t||t==="root";if(n){if(u=r.type===t?r:i,!u)if(e=r.views,r._.useKey){for(f in e)if(u=e[f].get(n,t))break}else for(f=0,o=e.length;!u&&f<o;f++)u=e[f].get(n,t)}else if(s)while(r.parent.parent)u=r=r.parent;else while(r&&!u)u=r.type===t?r:i,r=r.parent;return u}function wt(){var n=this.get("item");return n?n.index:i}function ci(n){var r,u=this,t=(u.ctx||{})[n];return t=t===i?u.getRsc("helpers",n):t,t&&typeof t=="function"&&(r=function(){return t.apply(u,arguments)},o(r,t)),r||t}function fi(n,t,u){var h,f,s,e=+u===u&&u,o=t.linkCtx;return e&&(u=(e=t.tmpl.bnds[e-1])(t.data,t,r)),s=u.args[0],(n||e)&&(f=o&&o.tag||{_:{inline:!o},tagName:n+":",flow:!0,_is:"tag"},f._.bnd=e,o&&(o.tag=f,f.linkCtx=o,u.ctx=c(u.ctx,o.view.ctx)),f.tagCtx=u,u.view=t,f.ctx=u.ctx||{},delete u.ctx,t._.tag=f,n=n!=="true"&&n,n&&((h=t.getRsc("converters",n))||a("Unknown converter: {{"+n+":"))&&(f.depends=h.depends,s=h.apply(f,u.args)),s=e&&t._.onRender?t._.onRender(s,t,e):s,t._.tag=i),s}function ei(n,t){for(var e=this,u=r[n],f=u&&u[t];f===i&&e;)u=e.tmpl[n],f=u&&u[t],e=e.parent;return f}function oi(n,t,u,f){var ft,s,ot,rt,ct,g,l,tt,it,h,d,b,st,y,nt,p="",k=+f===f&&f,v=t.linkCtx||0,w=t.ctx,et=u||t.tmpl,ht=t._;for(n._is==="tag"&&(s=n,n=s.tagName),k&&(f=(st=et.bnds[k-1])(t.data,t,r)),tt=f.length,s=s||v.tag,l=0;l<tt;l++)h=f[l],b=h.tmpl,b=h.content=b&&et.tmpls[b-1],u=h.props.tmpl,l||u&&s||(y=t.getRsc("tags",n)||a("Unknown tag: {{"+n+"}}")),u=u||(s?s._def:y).template||b,u=""+u===u?t.getRsc("templates",u)||e(u):u,o(h,{tmpl:u,render:ut,index:l,view:t,ctx:c(h.ctx,w)}),s||(y._ctr?(s=new y._ctr,nt=!!s.init,s.attr=s.attr||y.attr||i):s={render:y.render},s._={inline:!v},v&&(v.attr=s.attr=v.attr||s.attr,v.tag=s,s.linkCtx=v),(s._.bnd=st||v)&&(s._.arrVws={}),s.tagName=n,s.parent=g=w&&w.tag,s._is="tag",s._def=y),ht.tag=s,h.tag=s,s.tagCtxs=f,s.flow||(d=h.ctx=h.ctx||{},ot=s.parents=d.parentTags=w&&c(d.parentTags,w.parentTags)||{},g&&(ot[g.tagName]=g),d.tag=s),s.rendering={};for(l=0;l<tt;l++)h=s.tagCtx=f[l],s.ctx=h.ctx,!l&&nt&&(s.init(h,v,s.ctx),nt=i),(ft=s.render)&&(it=ft.apply(s,h.args)),p+=it!==i?it:h.tmpl?h.render():"";return delete s.rendering,s.tagCtx=s.tagCtxs[0],s.ctx=s.tagCtx.ctx,s._.inline&&(rt=s.attr)&&rt!=="html"&&(p=rt==="text"?at.html(p):""),p=k&&t._.onRender?t._.onRender(p,t,k):p}function k(n,t,r,u,f,e,o,s){var v,a,c,y=t==="array",l={key:0,useKey:y?0:1,id:""+vi++,onRender:s,bnds:{}},h={data:u,tmpl:f,content:o,views:y?[]:{},parent:r,ctx:n,type:t,get:hi,getIndex:wt,getRsc:ei,hlp:ci,_:l,_is:"view"};return r&&(v=r.views,a=r._,a.useKey?(v[l.key="_"+a.useKey++]=h,c=a.tag,l.bnd=y&&(!c||!!c._.bnd&&c)):v.splice(l.key=h.index=e!==i?e:v.length,0,h),h.ctx=n||r.ctx),h}function yi(n){var r,i,t,u,f;for(r in l)if(u=l[r],(f=u.compile)&&(i=n[r+"s"]))for(t in i)i[t]=f(t,i[t],n,r,u)}function pi(n,t,i){var u,r;return typeof t=="function"?t={depends:t.depends,render:t}:((r=t.template)&&(t.template=""+r===r?e[r]||e(r):r),t.init!==!1&&(u=t._ctr=function(){},(u.prototype=t).constructor=u)),i&&(t._parentTmpl=i),t}function ct(r,u,f,o,s,h){function v(i){if(""+i===i||i.nodeType>0){try{a=i.nodeType>0?i:!ht.test(i)&&t&&t(n.document).find(i)[0]}catch(u){}return a&&(i=a.getAttribute(pt),r=r||i,i=e[i],i||(r=r||"_"+ai++,a.setAttribute(pt,r),i=e[r]=ct(r,a.innerHTML,f,o,s,h))),i}}var l,a;return u=u||"",l=v(u),h=h||(u.markup?u:{}),h.tmplName=r,f&&(h._parentTmpl=f),!l&&u.markup&&(l=v(u.markup))&&l.fn&&(l.debug!==u.debug||l.allowCode!==u.allowCode)&&(l=l.markup),l!==i?(r&&!f&&(nt[r]=function(){return u.render.apply(u,arguments)}),l.fn||u.fn?l.fn&&(u=r&&r!==l.tmplName?c(h,l):l):(u=st(l,h),rt(l,u)),yi(h),u):void 0}function st(n,t){var r,f=b.wrapMap||{},i=o({markup:n,tmpls:[],links:{},tags:{},bnds:[],_is:"template",render:ut},t);return t.htmlTag||(r=dt.exec(n),i.htmlTag=r?r[1].toLowerCase():""),r=f[i.htmlTag],r&&r!==f.div&&(i.markup=u.trim(i.markup),i._elCnt=!0),i}function li(n,t){function f(e,o,s){var l,h,a,c;if(e&&""+e!==e&&!e.nodeType&&!e.markup){for(a in e)f(a,e[a],o);return r}return o===i&&(o=e,e=i),e&&""+e!==e&&(s=o,o=e,e=i),c=s?s[u]=s[u]||{}:f,h=t.compile,(l=d.onBeforeStoreItem)&&(h=l(c,e,o,h)||h),e?o===null?delete c[e]:c[e]=h?o=h(e,o,s,n,t):o:o=h(i,o),o&&(o._is=n),(l=d.onStoreItem)&&l(c,e,o,h),o}var u=n+"s";r[u]=f,l[n]=t}function ut(n,t,f,o,s,h){var b,ft,nt,y,tt,it,rt,w,p,et,d,ut,v,l=this,ot=!l.attr||l.attr==="html",g="";if(o===!0&&(rt=!0,o=0),l.tag?(w=l,l=l.tag,et=l._,ut=l.tagName,v=w.tmpl,t=c(t,l.ctx),p=w.content,w.props.link===!1&&(t=t||{},t.link=!1),f=f||w.view,n=n===i?f:n):v=l.jquery&&(l[0]||a('Unknown template: "'+l.selector+'"'))||l,v&&(!f&&n&&n._is==="view"&&(f=n),f&&(p=p||f.content,h=h||f._.onRender,n===f&&(n=f.data,s=!0),t=c(t,f.ctx)),f&&f.data!==i||((t=t||{}).root=n),v.fn||(v=e[v]||e(v)),v)){if(h=(t&&t.link)!==!1&&ot&&h,d=h,h===!0&&(d=i,h=f._.onRender),u.isArray(n)&&!s)for(y=rt?f:o!==i&&f||k(t,"array",f,n,v,o,p,h),b=0,ft=n.length;b<ft;b++)nt=n[b],tt=k(t,"item",y,nt,v,(o||0)+b,p,h),it=v.fn(nt,tt,r),g+=y._.onRender?y._.onRender(it,tt):it;else y=rt?f:k(t,ut||"data",f,n,v,o,p,h),et&&!l.flow&&(y.tag=l),g+=v.fn(n,y,r);return d?d(g,y):g}return""}function a(n){throw new r.sub.Error(n);}function s(n){a("Syntax error\n"+n)}function rt(n,t,i,r){function a(t){t-=f,t&&h.push(n.substr(f,t).replace(tt,"\\n"))}function c(t){t&&s('Unmatched or missing tag: "{{/'+t+'}}" in template:\n'+n)}function y(e,v,y,w,b,k,d,g,nt,it,rt,ut){k&&(b=":",w="html"),it=it||i;var at,ct,lt=v&&[],ot="",et="",ht="",st=!it&&!b&&!d;y=y||b,a(ut),f=ut+e.length,g?p&&h.push(["*","\n"+nt.replace(ii,"$1")+"\n"]):y?(y==="else"&&(gt.test(nt)&&s('for "{{else if expr}}" use "{{else expr}}"'),lt=u[6],u[7]=n.substring(u[7],ut),u=o.pop(),h=u[3],st=!0),nt&&(nt=nt.replace(tt," "),ot=ft(nt,lt,t).replace(bt,function(n,t,i){return t?ht+=i+",":et+=i+",",""})),et=et.slice(0,-1),ot=ot.slice(0,-1),at=et&&et.indexOf("noerror:true")+1&&et||"",l=[y,w||!!r||"",ot,st&&[],'params:"'+nt+'",props:{'+et+"}"+(ht?",ctx:{"+ht.slice(0,-1)+"}":""),at,lt||0],h.push(l),st&&(o.push(u),u=l,u[7]=f)):rt&&(ct=u[0],c(rt!==ct&&ct!=="else"&&rt),u[7]=n.substring(u[7],ut),u=o.pop()),c(!u&&rt),h=u[3]}var l,p=t&&t.allowCode,e=[],f=0,o=[],h=e,u=[,,,e];return n=n.replace(ri,"\\$1"),c(o[0]&&o[0][3].pop()[0]),n.replace(v,y),a(n.length),(f=e[e.length-1])&&c(""+f!==f&&+f[7]===f[7]&&f[0]),et(e,i?n:t,i)}function et(n,i,r){var c,e,f,a,l,d,wt,at,lt,pt,ht,w,o,dt,ni,ot,v,nt,y,kt,it,vt,ti,p,yt,ct,ft,ut,g,h=0,u="",k="",rt={},bt=n.length;for(""+i===i?(v=r?'data-link="'+i.replace(tt," ").slice(1,-1)+'"':i,i=0):(v=i.tmplName||"unnamed",(kt=i.allowCode)&&(rt.allowCode=!0),i.debug&&(rt.debug=!0),w=i.bnds,ot=i.tmpls),c=0;c<bt;c++)if(e=n[c],""+e===e)u+='\nret+="'+e+'";';else if(f=e[0],f==="*")u+=""+e[1];else{if(a=e[1],l=e[2],it=e[3],d=e[4],k=e[5],vt=e[7],(ct=f==="else")||(h=0,w&&(o=e[6])&&(h=w.push(o))),(ft=f===":")?(a&&(f=a==="html"?">":a+f),k&&(ut="prm"+c,k="try{var "+ut+"=["+l+"][0];}catch(e){"+ut+'="";}\n',l=ut)):(it&&(nt=st(vt,rt),nt.tmplName=v+"/"+f,et(it,nt),ot.push(nt)),ct||(y=f,yt=u,u="",dt=c),p=n[c+1],p=p&&p[0]==="else"),d+=",args:["+l+"]}",ft&&o||a&&f!==">"){if(g=new Function("data,view,j,u"," // "+v+" "+h+" "+f+"\n"+k+"return {"+d+";"),g.paths=o,g._ctxs=f,r)return g;ht=1}if(u+=ft?"\n"+(o?"":k)+(r?"return ":"ret+=")+(ht?(ht=0,pt=!0,'c("'+a+'",view,'+(o?(w[h-1]=g,h):"{"+d)+");"):f===">"?(at=!0,"h("+l+");"):(lt=!0,"(v="+l+")!="+(r?"=":"")+'u?v:"";')):(wt=!0,"{tmpl:"+(it?ot.length:"0")+","+d+","),y&&!p){if(u="["+u.slice(0,-1)+"]",(r||o)&&(u=new Function("data,view,j,u"," // "+v+" "+h+" "+y+"\nreturn "+u+";"),o&&((w[h-1]=u).paths=o),u._ctxs=f,r))return u;u=yt+'\nret+=t("'+y+'",view,this,'+(h||u)+");",o=0,y=0}}u="// "+v+"\nvar j=j||"+(t?"jQuery.":"js")+"views"+(lt?",v":"")+(wt?",t=j._tag":"")+(pt?",c=j._cnvt":"")+(at?",h=j.converters.html":"")+(r?";\n":',ret="";\n')+(b.tryCatch?"try{\n":"")+(rt.debug?"debugger;":"")+u+(r?"\n":"\nreturn ret;\n")+(b.tryCatch?"\n}catch(e){return j._err(e);}":"");try{u=new Function("data,view,j,u",u)}catch(gt){s("Compiled template code:\n\n"+u,gt)}return i&&(i.fn=u),u}function ft(n,t,i){function w(w,b,k,d,g,nt,tt,it,ut,et,ot,st,ht,ct,lt,at,vt,yt,pt){function bt(n,i,r,u,f,e,o){if(i&&(t&&!l&&t.push(d),i!==".")){var s=(r?'view.hlp("'+r+'")':u?"view":"data")+(o?(f?"."+f:r?"":u?"":"."+i)+(e||""):(o=r?"":u?f||"":i,""));return s=s+(o?"."+o:""),s.slice(0,9)==="view.data"?s.slice(5):s}return n}var wt;if(g=g||"",k=k||b||ot,d=d||it,ut=ut||at||"",nt)s(n);else return t&&lt&&(wt=a[r],pt.length-2>yt-wt&&(wt=pt.slice(wt,yt+1),lt=y+":"+wt+f,lt=v[lt]=v[lt]||rt(p+lt+h,i,!0),lt.paths||ft(wt,lt.paths=[],i),t.push({_jsvOb:lt}))),o?(o=!st,o?w:'"'):e?(e=!ht,e?w:'"'):(k?(r++,a[r]=yt++,k):"")+(vt?r?"":c?(c=l=!1,"\b"):",":tt?(r&&s(n),c=d,l=d.charAt(0)==="~","\b"+d+":"):d?d.split("^").join(".").replace(kt,bt)+(ut?(u[++r]=!0,d.charAt(0)!=="."&&(a[r]=yt),ut):g):g?g:ct?(u[r--]=!1,ct)+(ut?(u[++r]=!0,ut):""):et?(u[r]||s(n),","):b?"":(o=st,e=ht,'"'))}var c,l,v=i.links,u={},a={0:-1},r=0,e=!1,o=!1;return(n+" ").replace(ti,w)}function c(n,t){return n&&n!==t?t?o(o({},t),n):n:t&&o({},t)}function lt(n){return yt[n]||(yt[n]="&#"+n.charCodeAt(0)+";")}if((!t||!t.views)&&!n.jsviews){var ui="v1.0pre",u,it,v,ht,p="{",y="{",f="}",h="}",w="^",kt=/^(?:null|true|false|\d[\d.]*|([\w$]+|\.|~([\w$]+)|#(view|([\w$]+))?)([\w$.^]*?)(?:[.[^]([\w$]+)\]?)?)$/g,ti=/(\()(?=\s*\()|(?:([([])\s*)?(?:([#~]?[\w$.^]+)?\s*((\+\+|--)|\+|-|&&|\|\||===|!==|==|!=|<=|>=|[<>%*!:?\/]|(=))\s*|([#~]?[\w$.^]+)([([])?)|(,\s*)|(\(?)\\?(?:(')|("))|(?:\s*(([)\]])(?=\s*\.|\s*\^)|[)\]])([([]?))|(\s+)/g,tt=/\s*\n/g,ii=/\\(['"])/g,ri=/\\?(['"\\])/g,bt=/\x08(~)?([^\x08]+)\x08/g,gt=/^if\s/,dt=/<(\w+)[>\s]/,ki=/<(\w+)[^>\/]*>[^>]*$/,vt=/[\x00`><"'&]/g,si=vt,ai=0,vi=0,yt={"&":"&amp;","<":"&lt;",">":"&gt;","\x00":"&#0;","'":"&#39;",'"':"&#34;","`":"&#96;"},pt="data-jsv-tmpl",wi=[].slice,nt={},l={template:{compile:ct},tag:{compile:pi},helper:{},converter:{}},r={jsviews:ui,render:nt,settings:{delimiters:ot,debugMode:!0,tryCatch:!0},sub:{View:k,Error:g,tmplFn:rt,parse:ft,extend:o,error:a,syntaxError:s},_cnvt:fi,_tag:oi,_err:function(n){return b.debugMode?"Error: "+(n.message||n)+". ":""}};(g.prototype=new Error).constructor=g,wt.depends=function(){return[this.get("item"),"index"]};for(it in l)li(it,l[it]);var e=r.templates,at=r.converters,bi=r.helpers,ni=r.tags,d=r.sub,b=r.settings;t?(u=t,u.fn.render=ut):(u=n.jsviews={},u.isArray=Array&&Array.isArray||function(n){return Object.prototype.toString.call(n)==="[object Array]"}),u.render=nt,u.views=r,u.templates=e=r.templates,ni({"else":function(){},"if":{render:function(n){var t=this;return t.rendering.done||!n&&(arguments.length||!t.tagCtx.index)?"":(t.rendering.done=!0,t.selected=t.tagCtx.index,t.tagCtx.render())},onUpdate:function(n,t,i){for(var r,f,u=0;(r=this.tagCtxs[u])&&r.args.length;u++)if(r=r.args[0],f=!r!=!i[u].args[0],!!r||f)return f;return!1},flow:!0},"for":{render:function(n){var h,s,t=this,o=t.tagCtx,f=!arguments.length,r="",e=f||0;return t.rendering.done||(f?r=i:n!==i&&(r+=o.render(n),e+=u.isArray(n)?n.length:1),(t.rendering.done=e)&&(t.selected=o.index)),r},onUpdate:function(){},onArrayChange:function(n,t){var i,u=this,r=t.change;if(this.tagCtxs[1]&&(r==="insert"&&n.target.length===t.items.length||r==="remove"&&!n.target.length||r==="refresh"&&!t.oldItems.length!=!n.target.length))this.refresh();else for(i in u._.arrVws)i=u._.arrVws[i],i.data===n.target&&i._.onArrayChange.apply(i,arguments);n.done=!0},flow:!0},include:{flow:!0},"*":{render:function(n){return n},flow:!0}}),at({html:function(n){return n!=i?String(n).replace(si,lt):""},attr:function(n){return n!=i?String(n).replace(vt,lt):n===null?null:""},url:function(n){return n!=i?encodeURI(String(n)):n===null?null:""}}),ot()}})(this,this.jQuery);
/*! jsObservable: http://github.com/BorisMoore/jsviews */
(function(n,t,i){"use strict";function l(n){return s(n)?new g(n):new nt(n)}function nt(n){return this._data=n,this}function g(n){return this._data=n,this}function c(n){return s(n)?[n]:n}function w(n){if(typeof n!="number")throw"Invalid index.";}function it(n,t){n=s(n)?n:[n];for(var i,e=t,f=e,h=n.length,r=[],o=0;o<h;o++){if(i=n[o],u(i)){y.apply(r,[r.length,1].concat(it(i.call(t,t),t)));continue}else if(""+i!==i){t=f=i,f!==e&&r.push(e=f);continue}f!==e&&r.push(e=f),r.push(i)}return r}function tt(n,t){var r,i;for(r in n){i=!0;break}i||delete p[t]}function d(n,t){if(!(n.data&&n.data.off)){var r=t.oldValue,i=n.data;n.type===v?i.cb.array(n,t):(i.prop==="*"||i.prop===t.path)&&(typeof r===k&&b(c(r),i.path,i.cb),typeof(r=t.value)===k&&e(c(r),i.path,i.cb),i.cb(n,t))}}function e(){function ti(i,u,e,o){var y=ft(n),s=c(n);if(f=0,g||o)y&&(t(s).off(i,d),f&&delete f[t.data(n,"obId")]);else{if(h=y&&t._data(n))for(h=h&&h.events,h=h&&h[e?v:a],pt=h&&h.length;pt--;)if((nt=h[pt].data)&&nt.cb===r){if(e)return;u==="*"&&nt.prop!==u&&(t(n).off(i+"."+nt.prop,d),f&&delete f[t.data(n,"obId")])}t(s).on(i,null,e?{cb:r}:{path:u,prop:l,cb:r},d);kt&&(kt[t.data(n,"obId")||t.data(n,"obId",ct++)]=n)}}function fi(n,t){n._ob=lt(n,et);var u=et;return function(){var i=n._ob,f=t.length;typeof i===k&&(gt(i,!0),f&&b(c(i),t,r,lt,u)),i=n._ob=lt(n,u),typeof i===k&&(gt(i),f&&e(c(i),t,r,lt,u))}}function gt(t,u){if(r&&r.array&&s(t)){var f=n;n=t,ti(v+".observe.obs"+r._bnd,i,!0,u),n=f}}var yt,rt,l,o,wt,n,g,r,bt,pt,nt,h,lt,ii,kt,dt,ri,ui=1,ni=ut,w=ot.apply([],arguments),st=w.pop(),et=w[0],vt=""+et!==et?w.shift():i,at=w.length;for(et=vt,u(st)?r=st:(st===!0?g=st:st&&(et=st,ui=0),st=w[at-1],(at&&st===i||u(st))&&(r=w.pop(),at--)),u(w[at-1])&&(lt=r,r=w.pop(),at--),ni+=g?r?".obs"+r._bnd:"":".obs"+(bt=r._bnd=r._bnd||ht++),g&&at===0&&vt&&t(vt).off(ut,d),g||(kt=p[bt]=p[bt]||{}),dt=0,yt=0;yt<at;yt++){if(o=w[yt],gt(n,g),n=vt,""+o===o){if(rt=o.split("^"),rt[1]&&(dt=rt[0].split(".").length,o=rt.join("."),dt=o.split(".").length-dt),lt&&(ii=lt(o,vt))){at+=ii.length-1,y.apply(w,[yt--,1].concat(ii));continue}rt=o.split(".")}else ui&&!u(o)&&(o._jsvOb&&(g||(o._cb=ri=fi(o,w.slice(yt+1)),o._rt=et,ri._bnd=r._bnd),e(o._rt,w.slice(0,yt),o._cb,lt,g),o=o._ob),n=o),vt=o,rt=[vt];while(n&&typeof n=="object"&&(l=rt.shift())!==i){if(""+l===l){if(l==="")continue;if(rt.length<dt+1&&!n.nodeType){if(!g&&(h=ft(n)&&t._data(n))){for(h=h.events,h=h&&h.propertyChange,pt=h&&h.length;pt--;)if(nt=h[pt].data,nt&&nt.cb===r&&(nt.prop===l&&nt.path===rt.join(".")||nt.prop==="*"))break;if(pt>-1){n=n[l];continue}}if(l==="*"){u(n)?(wt=n.depends)&&e(wt,r,g||et):ti(ni,l);break}else!l||u(wt=n[l])&&wt.depends||ti(ni+"."+l,rt.join("."))}l=l?n[l]:n}if(u(l)){(wt=l.depends)&&e(n,it(wt,n),r,lt,g||c(et));break}n=l}}return gt(n,g),bt&&tt(kt,bt),{cbId:bt,bnd:kt,leaf:n}}function b(){return[].push.call(arguments,!0),e.apply(this,arguments)}if(!t)throw"requires jQuery or JsRender";if(!t.observable){var at="v1.0pre",f,rt,h,r,et=t.event.special,o=t.views?t.views.sub:{},lt=1,y=[].splice,ot=[].concat,s=t.isArray,st=t.expando,k="object",a=o.propChng=o.propChng||"propertyChange",v=o.arrChng=o.arrChng||"arrayChange",p=o._cbBnds=o._cbBnds||{},ut=a+".observe",u=t.isFunction,ct=1,ht=1,ft=t.hasData;t.observable=l,l.Object=nt,l.Array=g,l.observe=e,l.unobserve=b,nt.prototype={_data:null,data:function(){return this._data},observe:function(n,t){return e(this._data,n,t)},unobserve:function(n,t){return b(this._data,n,t)},setProperty:function(n,t,r){var c,u,h,o,f=this,e=f._data;if(n=n||"",e)if(s(n))for(u=n.length;u--;)h=n[u],f.setProperty(h.name,h.value,r===i||r);else if(""+n!==n)for(u in n)f.setProperty(u,n[u],t);else if(n.indexOf(st)<0){for(o=n.split(".");e&&o.length>1;)e=e[o.shift()];f._setProperty(e,o.join("."),t,r)}return f},_setProperty:function(n,t,i,r){var e,o,f=t?n[t]:n;u(f)&&f.set&&(o=f,e=f.set===!0?f:f.set,f=f.call(n)),(f!==i||r&&f!=i)&&(!(f instanceof Date)||f>i||f<i)&&(e?(e.call(n,i),i=o.call(n)):n[t]=i,this._trigger(n,{path:t,value:i,oldValue:f}))},_trigger:function(n,i){t(n).triggerHandler(a,i)}},g.prototype={_data:null,data:function(){return this._data},insert:function(n,t){return w(n),arguments.length>1&&(t=s(t)?t:[t],t.length&&this._insert(n,t)),this},_insert:function(n,t){r=this._data,h=r.length,y.apply(r,[n,0].concat(t)),this._trigger({change:"insert",index:n,items:t})},remove:function(n,t){if(w(n),t=t===i||t===null?1:t,t&&n>-1){var r=this._data.slice(n,n+t);t=r.length,t&&this._remove(n,t,r)}return this},_remove:function(n,t,i){r=this._data,h=r.length,r.splice(n,t),this._trigger({change:"remove",index:n,items:i})},move:function(n,t,r){if(w(n),w(t),r=r===i||r===null?1:r,r){var u=this._data.slice(n,n+r);this._move(n,t,r,u)}return this},_move:function(n,t,i,u){r=this._data,h=r.length,r.splice(n,i),r.splice.apply(r,[t,0].concat(u)),this._trigger({change:"move",oldIndex:n,index:t,items:u})},refresh:function(n){var t=this._data.slice(0);return this._refresh(t,n),this},_refresh:function(n,t){r=this._data,h=r.length,y.apply(r,[0,r.length].concat(t)),this._trigger({change:"refresh",oldItems:n})},_trigger:function(n){var u=r.length,i=t([r]);i.triggerHandler(v,n),u!==h&&i.triggerHandler(a,{path:"length",value:u,oldValue:h})}},et[a]=et[v]={remove:function(n){(n=n.data)&&(n.off=1,n=n.cb)&&(f=p[rt=n._bnd])},teardown:function(){f&&(delete f[t.data(this,"obId")],tt(f,rt))}}}})(this,this.jQuery||this.jsviews);
/*! JsViews v1.0pre: http://github.com/BorisMoore/jsviews */
(function(n,t,i){"use strict";function ei(n){var k,nt,l,v,o,f,h,e,b,c,g,d,y,a=n.target,w,p,u=a._jsvBnd;if(u)for(d=u.slice(1).split("&"),y=d.length;y--;)(g=s[d[y]])&&(v=g.linkCtx,c=v.view,(u=g.to)&&(b=t(a),w=c.hlp(dt),p=c.hlp(kt),l=vt(a),k=di[l],o=ot(l)?l(a):k?b[k]():b.attr(l),w&&(nt=w.call(c,n)===!1)||o===i||(h=u[1],u=u[0],e=u[0],e=e._jsvOb?e._ob:e,u=u[2]||u[1],ot(h)?f=h:(f=c.tmpl.converters,f=f&&f[h]||r.converters[h]),f&&(o=f.call(v.tag,o)),o!==i&&e&&(et(e).setProperty(u,o),p&&p.call(v,n))),nt&&n.stopImmediatePropagation()))}function gr(n,u,f){var o,g,k,e,nt,s,ct,ft,ut,v,et,rt,st,ht,c=this,b=c.data,h=c.elem,a=c.cvt,p="attr",it=h.parentNode,tt=it,y=t(h),l=c.view,d=l.hlp(dt);if(it&&(!d||!(u&&d.call(c,n,u)===!1))&&!(u&&n.data.prop!=="*"&&n.data.prop!==u.path)){if(v=l.linkCtx,l.linkCtx=c,u&&(c.eventArgs=u),!n||u||c._initVal){if(delete c._initVal,e=f.call(l.tmpl,b,l,r),o=c.attr||vt(h,!0,a!==i),s=c.tag){if(u&&s.onUpdate&&s.onUpdate(n,u,e)===!1||o==="none"){pt(c,b,h,f),l.linkCtx=v;return}e=s.tagName.slice(-1)===":"?r._cnvt(s.tagName.slice(0,-1),l,e):r._tag(s.tagName,l,l.tmpl,e)}else f._ctxs&&(a=a===""?"true":a,e=a?r._cnvt(a,l,e):r._tag(f._ctxs,l,l.tmpl,e),s=l._.tag,o=c.attr||o);if(s&&(s.parentElem=c.expr||s._elCnt?h:h.parentNode,ft=s._prv,ut=s._nxt,s.refresh=ur),ot(e)&&w(c.expr+": missing parens"),o==="visible"&&(o="css-display",e=e?nu(h):"none"),nt=o.lastIndexOf("css-",0)===0&&o.substr(4))(k=t.style(h,nt)!==e)&&t.style(h,nt,e);else if(o!=="link"){if(o==="value")h.type==="checkbox"&&(e=e&&e!=="false",p="prop",o="checked");else if(o==="radio")if(h.value===""+e)e=!0,p="prop",o="checked";else{pt(c,b,h,f),l.linkCtx=v;return}else(o==="selected"||o==="disabled"||o==="multiple"||o==="readlonly")&&(e=e&&e!=="false"?o:null);if(g=di[o],g){if(k=s||y[g]()!==e)if(o==="html")if(s){if(rt=s._.inline,s.refresh(e),!rt&&s._.inline){l.linkCtx=v;return}}else y.empty(),tt=h,l.link(b,tt,ft,ut,e,s&&{tag:s._tgId});else o!=="text"||h.children[0]?y[g](e):h.textContent!==i?h.textContent=e:h.innerText=e===null?"":e}else(k=y[p](o)!=e)&&y[p](o,e===i&&p==="attr"?null:e)}u&&k&&(d=l.hlp(kt))&&d.call(c,n,u)}pt(c,b,h,f),l.linkCtx=v}}function ii(n,t){var i=this,f=i.hlp(dt),e=i.hlp(kt);if(!f||f.call(n,t)!==!1){if(t){var o=t.change,r=t.index,u=t.items;switch(o){case"insert":i.addViews(r,u);break;case"remove":i.removeViews(r,u.length);break;case"move":i.refresh();break;case"refresh":i.refresh()}}e&&e.call(this,n,t)}}function nu(t){var r,u,e=n.getComputedStyle,i=(t.currentStyle||e.call(n,t,"")).display;return i!=="none"||(i=fr[u=t.nodeName])||(r=f.createElement(u),f.body.appendChild(r),i=(e?e.call(n,r,""):r.currentStyle).display,fr[u]=i,f.body.removeChild(r)),i}function at(n){var e,f,u=n.data,r=n._.bnd;if(!n._.useKey&&r)if((f=n._.bndArr)&&(t([f[1]]).off(ni,f[0]),n._.bndArr=i),r===!!r||r.linkCtx){if(u){e=function(t){t.data&&t.data.off||ii.apply(n,arguments)};t([u]).on(ni,e);n._.bndArr=[e,u]}}else u?r._.arrVws[n._.id]=n:delete r._.arrVws[n._.id]}function vt(n,t,i){var u=n.nodeName.toLowerCase(),r=o.merge[u];return r?t?u==="input"&&n.type==="radio"?"radio":r.to.toAttr:r.from.fromAttr:t?i?"text":"html":""}function vi(n,r,u,f,e,o,s){var b,c,v,d,k,p,l=n.parentElem,h=n._prv,a=n._nxt,y=n._elCnt;if(h&&h.parentNode!==l&&w("Missing parentNode"),s){k=n.nodes(),y&&h&&h!==a&&lt(h,a,l,n._.id,"_",!0),n.removeViews(i,i,!0),c=a,y&&(h=h?h.previousSibling:a?a.previousSibling:l.lastChild),t(k).remove();for(p in n._.bnds)tt(p)}else{if(r){if(v=f[r-1],!v)return!1;h=v._nxt}y?(c=h,h=c?c.previousSibling:l.lastChild):c=h.nextSibling}b=u.render(e,o,n,s||r,n._.useKey&&s,!0),n.link(e,l,h,c,b,v)}function it(n,t,r){var u,f,e;return r?(e="^`",f=t._.tag||{_:{inline:!0,bnd:r},tagCtx:{view:t},flow:!0},u=f._tgId,f.refresh=ur,u||(s[u=er++]=f,f._tgId=""+u)):(e="_`",l[u=t._.id]=t),"#"+u+e+(n===i?"":n)+"/"+u+e}function pt(n,r,u){var a,c,l,o,h,y,e=[],v=n._bndId||""+er++,p=n._hdlr;if(delete n._bndId,(a=n.tag)&&(e=a.depends||e,e=ot(e)?a.depends(a):e,l=a.onChange),l=l||n._cvtBk,(!n._depends||""+n._depends!=""+e)&&(n._depends&&ci(r,n._depends,p,!0),c=ci(t.isArray(r)?[r]:r,o=n.fn.paths||n.fn,e,p,n._ctxCb),c.elem=u,c.linkCtx=n,c._tgId=v,u._jsvBnd=u._jsvBnd||"",u._jsvBnd+="&"+v,n._depends=e,n.view._.bnds[v]=v,s[v]=c,l!==i)){for(y=o.length;""+(h=o[--y])!==h;);h=o[y]=h.split("^").join("."),c.to=h.charAt(0)==="."?[[o[y-1],h.slice(1)],l]:[n._ctxCb(o[0])||[r,o[0]],l]}}function oi(n,t,i,r,u,f){return ct(this,n,t,i,r,u,f)}function ct(n,r,u,o,s,h,c){if(n&&r){if(r=r.jquery?r:t(r),!y){y=f.body;t(y).on(li,ei)}for(var b,nt,tt,k,v,w,a,d=it,ut=o&&o.target==="replace",g=r.length;g--;)if(a=r[g],""+n===n)rt(n,a,p(a),u,o);else{if(s=s||p(a),n.markup!==i)s.link===!1&&(o=o||{},o.link=d=!1),ut&&(w=a.parentNode),tt=n.render(u,o,s,i,i,d),w?(h=a.previousSibling,c=a.nextSibling,t.cleanData([a],!0),w.removeChild(a),a=w):(h=c=i,t(a).empty());else if(n!==!0)break;if(a._dfr&&!c){for(k=e(a._dfr,!0,rr),b=0,nt=k.length;b<nt;b++)v=k[b],(v=l[v.id])&&v.data!==i&&v.parent.removeViews(v._.key,i,!0);a._dfr=""}s.link(u,a,h,c,tt)}}return r}function tu(n,r,u,a,y,k){function eu(n,t,i,r,u,f,e,o,s,h,l,a){var v="";return d=o||s||"",r=r||i||h||a,r&&(yi&&(i||a)&&!yr[yt]&&kr("'<"+yt+"... />' in:\n"+y),di=ft,yt=nr.shift(),ft=st[yt],di&&(ct+=vt,vt="",ft?ct+="-":(v=(h||"")+pi+"@"+ct+wi+(l||""),ct=pr.shift()))),ft?(f?vt+=f:t=h||a||"",d&&(t+=d,vt&&(t+=" "+c+'="'+vt+'"',vt=""))):t=f?t+v+u+pi+f+wi+e+d:v||n,d&&(nr.unshift(yt),yt=d.slice(1),nr[0]===ar[yt]&&w('"'+yt+'" has incorrect parent tag'),(ft=st[yt])&&!di&&(pr.unshift(ct),ct=""),di=ft,ct&&ft&&(ct+="+")),t}function gi(n,t){var h,a,u,e,f,v,o,c=[];if(n){for(bt=n.length,n.tokens.charAt(0)==="@"&&(t=g.previousSibling,g.parentNode.removeChild(g),g=null),bt=n.length;bt--;){if(et=n[bt],u=et.ch,h=et.path)for(ot=h.length-1;a=h.charAt(ot--);)a==="+"?h.charAt(ot)==="-"?(ot--,t=t.previousSibling):t=t.parentNode:t=t.lastChild;u==="^"?(d=s[f=et.id])&&(o=t&&(!g||g.parentNode!==t),(!g||o)&&(d.parentElem=t),et.elCnt&&(et.open?t&&(t._dfr="#"+f+u+(t._dfr||"")):o&&(t._dfr="/"+f+u+(t._dfr||""))),c.push([o?null:g,et])):(tt=l[f=et.id])&&(tt.link||(tt.parentElem=t||g&&g.parentNode||r,b(tt,wt),tt._.onRender=it,tt._.onArrayChange=ii,at(tt)),e=tt.parentElem,et.open?(tt._elCnt=et.elCnt,t?t._dfr="#"+f+u+(t._dfr||""):(tt._prv||(e._dfr=ut(e._dfr,"#"+f+u)),tt._prv=g)):(t&&(!g||g.parentNode!==t)?(t._dfr="/"+f+u+(t._dfr||""),tt._nxt=i):g&&(tt._nxt||(e._dfr=ut(e._dfr,"/"+f+u)),tt._nxt=g),wr=tt.linkCtx,(v=ru||tt.ctx&&tt.ctx.onAfterCreate)&&v.call(wr,tt)))}for(bt=c.length;bt--;)li.push(c[bt])}return!n||n.elCnt}function uu(n){var t,i;if(bt=n&&n.length)for(ot=0;ot<bt;ot++)if(et=n[ot],pt.id)pt.id=pt.id!==et.id&&pt.id;else if(i=d=s[et.id].linkCtx.tag,!d.flow){if(!hr){for(t=1;i=i.parent;)t++;si=si||t}(hr||t===si)&&(!or||d.tagName===or)&&fr.push(d)}}var wr,d,kt,ti,ot,bt,ur,g,tt,ou,et,dt,ai,hi,er,bi,gt,fr,hr,or,si,pt,gr,sr,tu,oi,yt,ei,ci,lt,ft,di,ni,vt,vi,nu,iu=o.noDomLevel0,rr=this,cr=rr._.id+"_",ct="",li=[],nr=[],pr=[],ru=rr.hlp(lr),vr=gi;if(k&&(k.tmpl?er="/"+k._.id+"_":(pt=k.get,k.tag&&(cr=k.tag+"^",k=!0)),k=k===!0),pt&&(vr=uu,fr=pt.tags,hr=pt.deep,or=pt.name),r=r?""+r===r?t(r)[0]:r.jquery?r[0]:r:rr.parentElem||f.body,yt=r.tagName.toLowerCase(),ft=!!st[yt],u=u&&fi(u,ft),a=a&&fi(a,ft)||null,y!==i){if(ci=f.createElement("div"),ei=ci,vi=vt="",ni=r.namespaceURI==="http://www.w3.org/2000/svg"?"svg":(oi=br.exec(y))&&oi[1]||"",iu&&oi&&oi[2]&&w("Unsupported: "+oi[2]),ft){for(gt=a;gt&&!(bi=e(gt));)gt=gt.nextSibling;(lt=bi?bi.tokens:r._dfr)&&(hi=er||"",(k||!er)&&(hi+="#"+cr),ot=lt.indexOf(hi),ot+1&&(ot+=hi.length,vi=vt=lt.slice(0,ot),lt=lt.slice(ot),bi?gt.setAttribute(c,lt):r._dfr=lt))}for(y=(""+y).replace(dr,eu),ki.appendChild(ci),ni=h[ni]||h.div,gr=ni[0],ei.innerHTML=ni[1]+y+ni[2];gr--;)ei=ei.lastChild;for(ki.removeChild(ci),sr=f.createDocumentFragment();tu=ei.firstChild;)sr.appendChild(tu);r.insertBefore(sr,a)}for(ur=ht?r.querySelectorAll(nt):t(nt,r).get(),ti=ur.length,u&&(ai=ht?u.querySelectorAll(nt):t(nt,u).get(),u=ai.length?ai[ai.length-1]:u),si=0,kt=0;kt<ti;kt++)if(g=ur[kt],u&&!nu)nu=g===u;else if(a&&g===a)break;else g.parentNode&&vr(e(g,i,fr&&fu))&&g.getAttribute(v)&&li.push([g]);if(ui(u,ft),ui(a,ft),!pt)for(ft&&ct+vt&&(g=a,ct&&(a?gi(e(ct+"+",!0),a):gi(e(ct,!0),r)),gi(e(vt,!0),r),a&&(lt=a.getAttribute(c),(ti=lt.indexOf(vi)+1)&&(lt=lt.slice(ti+vi.length-1)),a.setAttribute(c,vt+lt))),ti=li.length,kt=0;kt<ti;kt++)g=li[kt],dt=g[1],g=g[0],dt?(d=s[dt.id],d=d.linkCtx?d.linkCtx.tag:d,dt.open?(g&&(d.parentElem=g.parentNode,d._prv=g),d._elCnt=dt.elCnt,!d||d.onBeforeLink&&d.onBeforeLink()===!1||d._.bound||(d._.bound=!0,tt=d.tagCtx.view,rt(i,d._prv,tt,tt.data||n,dt.id)),d._.linking=!0):(d._nxt=g,d._.linking&&(tt=d.tagCtx.view,d.contents=ri,d.nodes=ir,d.childTags=tr,delete d._.linking,d&&d.onAfterLink&&d.onAfterLink(),d._.bound||(d._.bound=!0,rt(i,d._prv,tt,tt.data||n,dt.id))))):(tt=p(g),rt(g.getAttribute(v),g,tt,tt.data||n))}function rt(n,t,r,f,e){var y,a,w,h,p,b,l,v,c,o,g;if(e)o=s[e],o=o.linkCtx?o.linkCtx.tag:o,c=o.linkCtx||{data:f,elem:o._elCnt?o.parentElem:t,view:r,attr:"html",fn:o._.bnd,tag:o,_bndId:e},hi(c,c.fn);else if(n&&t)for(y=r.tmpl,n=sr(n,t),k.lastIndex=0;a=k.exec(n);)g=k.lastIndex,w=e?"html":a[1],l=a[3],p=a[10],h=i,c={data:f,elem:o&&o._elCnt?o.parentElem:t,view:r,attr:w,_initVal:!a[2]},a[6]&&(!w&&(h=/:([\w$]*)$/.exec(p))&&(h=h[1],h!==i&&(b=-h.length-1,l=l.slice(0,b-1)+d,p=p.slice(0,b))),h===null&&(h=i),c.cvt=a[5]||""),c.expr=w+l,v=y.links[l],v||(y.links[l]=v=u.tmplFn(bi+l+ti,y,!0,h),u.parse(p,v.paths=[],y)),c.fn=v,w||h===i||(c._cvtBk=h),hi(c,v),k.lastIndex=g}function hi(n,t){function i(i,r){gr.call(n,i,r,t)}n._ctxCb=or(n.view),n._hdlr=i,n.tag&&n.tag.onArrayChange&&(i.array=function(t,i){n.tag.onArrayChange(t,i)}),i(!0)}function ut(n,t){var i;return n?(i=n.indexOf(t),i+1?n.slice(0,i)+n.slice(i+t.length):n):""}function ft(n){return n&&(""+n===n?n:n.tagName==="SCRIPT"?n.type.slice(3):n.nodeType===1&&n.getAttribute(c)||"")}function e(n,t,i){function e(n,t,i,r,e,o){u.push({elCnt:f,id:r,ch:e,open:t,close:i,path:o,token:n})}var f,r,u=[];if(r=t?n:ft(n))return u.elCnt=!n.type,f=r.charAt(0)==="@"||!n.type,u.tokens=r,r.replace(i||iu,e),u}function ui(n,t){n&&(n.type==="jsv"?n.parentNode.removeChild(n):t&&n.getAttribute(v)===""&&n.removeAttribute(v))}function fi(n,t){for(var i=n;t&&i&&i.nodeType!==1;)i=i.previousSibling;return i&&(i.nodeType!==1?(i=f.createElement("SCRIPT"),i.type="jsv",n.parentNode.insertBefore(i,n)):ft(i)||i.getAttribute(v)||i.setAttribute(v,"")),i}function sr(n,i){return n=t.trim(n),n.slice(-1)!==d?n=bt+":"+n+(vt(i)?":":"")+d:n}function ri(n,i){var u,r=t(this.nodes());return r[0]&&(u=n?r.filter(n):r,r=i&&n?u.add(r.find(n)):u),r}function ir(n,t,i){var u,r=this,e=r._elCnt,o=!t&&e,f=[];for(t=t||r._prv,i=i||r._nxt,u=o?t===r._nxt?r.parentElem.lastSibling:t:r._.inline===!1?t||r.linkCtx.elem.firstChild:t&&t.nextSibling;u&&(!i||u!==i);)(n||e||!ft(u))&&f.push(u),u=u.nextSibling;return f}function tr(n,t){n!==!!n&&(t=n,n=i);var r=this,o=r.link?r:r.tagCtx.view,u=r._prv,f=r._elCnt,e=[];return u&&o.link(i,r.parentElem,f?u.previousSibling:u,r._nxt,i,{get:{tags:e,deep:n,name:t,id:f&&r._tgId}}),e}function ur(n){var h,l,u=this,s=u.parentElem,f=u.tagCtx.view,e=u._prv,o=u._nxt,a=u._elCnt,c=u._.inline;return u.disposed&&w("Removed tag"),n===i&&(n=u._.bnd.call(f.tmpl,f.data,f,r),c&&(n=r._tag(u,f,f.tmpl,n))),(u.flow||u.render||u.template)&&(c?(l=u.nodes(!0),a&&(e&&e!==o&&lt(e,o,s,u._tgId,"^",!0),e=e?e.previousSibling:o?o.previousSibling:s.lastChild),t(l).remove()):(!u.flow&&u.tagCtx.props.inline&&(f._.tag=u,n=it(n,f,!0),f._.tag=i,h=u._.inline=!0),t(s).empty())),!h&&u.onBeforeLink&&u.onBeforeLink(),f.link(f.data,s,e,o,n,u&&{tag:u._tgId}),!h&&u.onAfterLink&&u.onAfterLink(),u}function g(n){for(var o,h,c,r,s,t,u,v=[],a=n.length,f=a;f--;)v.push(n[f]);for(f=a;f--;)if(r=v[f],r.parentNode){if(u=r._jsvBnd)for(u=u.slice(1).split("&"),r._jsvBnd="",h=u.length;h--;)tt(u[h],!0);if(s=e(ft(r)+(r._dfr||""),!0,ru))for(o=0,c=s.length;o<c;o++)t=s[o],t.ch==="_"?(t=l[t.id])&&t.data!==i&&t.parent.removeViews(t._.key,i,!0):tt(t.id,!0)}}function tt(n,i){var c,h,r,o,e,f=s[n];if(f){for(c in f.bnd)o=f.bnd[c],e=".obs"+f.cbId,t.isArray(o)?t([o]).off(ni+e).off(si+e):t(o).off(si+e),delete f.bnd[c];h=f.linkCtx,(r=h.tag)&&(r.onDispose&&r.onDispose(),i||r._elCnt||(r._prv.parentNode.removeChild(r._prv),r._nxt.parentNode.removeChild(r._nxt)),r.disposed=!0),delete h.view._.bnds[n],delete s[n],delete u._cbBnds[f.cbId]}}function yt(n,r){return arguments.length?r&&(r=r.jquery?r:t(r),n===!0?t.each(r,function(){for(var n;(n=p(this,!0))&&n.parent;)n.parent.removeViews(n._.key,i,!0);g(this.getElementsByTagName("*"))}):n===i&&g(r)):(y&&(t(y).off(li,ei),y=i),n=!0,a.removeViews(),g(f.body.getElementsByTagName("*"))),r}function nr(n,t){return yt(this,n,t)}function or(n){return n=n||t.view(),function(t,i){var e,u,f=[i];if(n&&t){if(t._jsvOb)return t._jsvOb.call(n.tmpl,i,n,r);if(t.charAt(0)==="~")return t.slice(0,4)==="~tag"&&(u=n.ctx,t.charAt(4)==="."&&(e=t.slice(5).split("."),u=u.tag),e)?u?[u,e.join("."),i]:[]:(t=t.slice(1).split("."),(i=n.hlp(t.shift()))&&(t.length&&f.unshift(t.join(".")),f.unshift(i)),i?f:[]);if(t.charAt(0)==="#")return t==="#data"?[]:[n,t.replace(vr,""),i]}}}function hr(n){return n.type==="checkbox"?n.checked:n.value}function lt(n,t,i,r,u,f){var y,v,w,h,b,a,o,p=0,k=n===t;if(n){for(w=e(n)||[],y=0,v=w.length;y<v;y++){if(h=w[y],a=h.id,a===r&&h.ch===u)if(f)v=0;else break;k||(b=h.ch==="_"?l[a]:s[a].linkCtx.tag,h.open?b._prv=t:h.close&&(b._nxt=t)),p+=a.length+2}p&&n.setAttribute(c,n.getAttribute(c).slice(p)),o=t?t.getAttribute(c):i._dfr,(v=o.indexOf("/"+r+u)+1)&&(o=w.tokens.slice(0,p)+o.slice(v+(f?-1:r.length+1))),o&&(t?t.setAttribute(c,o):i._dfr=o)}else i._dfr=ut(i._dfr,"#"+r+u),f||t||(i._dfr=ut(i._dfr,"/"+r+u))}if(!t)throw"requires jQuery";if(!t.views)throw"requires JsRender";if(!t.observable)throw"requires jquery.observable";if(!t.link){var eu="v1.0pre",wt,y,p,k,bi,bt,d,ti,ai,yi,f=n.document,r=t.views,u=r.sub,o=r.settings,b=u.extend,a=u.View(i,"top"),ot=t.isFunction,cr=r.templates,et=t.observable,ci=et.observe,c="data-jsv",v=o.linkAttr||"data-link",si=o.propChng=o.propChng||"propertyChange",ni=u.arrChng=u.arrChng||"arrayChange",ou=u._cbBnds=u._cbBnds||{},li="change.jsv",dt="onBeforeChange",kt="onAfterChange",lr="onAfterCreate",wi='"><\/script>',pi='<script type="jsv',gt="script,["+c+"]",nt=gt+",["+v+"]",di={value:"val",input:"val",html:"html",text:"text"},gi={from:{fromAttr:"value"},to:{toAttr:"value"}},wr=t.cleanData,pr=o.delimiters,w=u.error,kr=u.syntaxError,br=/<(?!script)(\w+)(?:[^>]*(on\w+)\s*=)?[^>]*>/,ki=f.createDocumentFragment(),ht=f.querySelector,st={ol:1,ul:1,table:1,tbody:1,thead:1,tfoot:1,tr:1,colgroup:1,dl:1,select:1,optgroup:1},ar={tr:"table"},h=o.wrapMap={option:[1,"<select multiple='multiple'>","</select>"],legend:[1,"<fieldset>","</fieldset>"],thead:[1,"<table>","</table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],col:[2,"<table><tbody></tbody><colgroup>","</colgroup></table>"],area:[1,"<map>","</map>"],svg:[1,"<svg>","</svg>"],div:[1,"x<div>","</div>"]},yr={br:1,img:1,input:1,hr:1,area:1,base:1,col:1,link:1,meta:1,command:1,embed:1,keygen:1,param:1,source:1,track:1,wbr:1},fr={},l={0:a},s={},er=1,vr=/^#(view\.?)?/,dr=/(^|(\/>)|(<\/\w+>)|>|)(\s*)([#\/]\d+[_^])`(\s*)(<\w+(?=[\s\/>]))?|\s*(?:(<\w+(?=[\s\/>]))|(<\/\w+>)(\s*)|(\/>)\s*)/g,rr=/(#)()(\d+)(_)/g,ru=/(#)()(\d+)([_^])/g,uu=/(?:(#)|(\/))(\d+)(_)/g,fu=/(#)()(\d+)(\^)/g,iu=/(?:(#)|(\/))(\d+)([_^])([-+@\d]+)?/g;h.optgroup=h.option,h.tbody=h.tfoot=h.colgroup=h.caption=h.thead,h.th=h.td,u.onStoreItem=function(n,i,r){r&&n===cr&&(r.link=oi,r.unlink=nr,i&&(t.link[i]=function(){return oi.apply(r,arguments)},t.unlink[i]=function(){return nr.apply(r,arguments)}))},(o.delimiters=function(){var n=pr.apply(r,arguments);return bi=n[0],bt=n[1],d=n[2],ti=n[3],ai=n[4],k=new RegExp("(?:^|\\s*)([\\w-]*)(\\"+ai+")?(\\"+bt+u.rTag+"\\"+d+")","g"),this})(),u.viewInfos=e,wt={addViews:function(n,t,i){var u,o,r=this,f=t.length,e=r.views;if(!r._.useKey&&f&&(i=r.tmpl)&&(o=e.length+f,vi(r,n,i,e,t,r.ctx)!==!1))for(u=n+f;u<o;u++)et(e[u]).setProperty("index",u);return r},removeViews:function(n,r,u){function s(n){var h,c,e,s,o,a,r=f[n];if(r&&r.link){h=r._.id,u||(a=r.nodes()),r.removeViews(i,i,!0),r.data=i,s=r._prv,o=r._nxt,e=r.parentElem,u||(r._elCnt&&lt(s,o,e,h,"_"),t(a).remove()),r._elCnt||(s.parentNode&&e.removeChild(s),o.parentNode&&e.removeChild(o)),at(r);for(c in r._.bnds)tt(c,u);delete l[h]}}var e,a,c,h=this,o=!h._.useKey,f=h.views;if(o&&(c=f.length),n===i)if(o){for(e=c;e--;)s(e);h.views=[]}else{for(a in f)s(a);h.views={}}else if(r===i&&(o?r=1:(s(n),delete f[n])),o&&r){for(e=n+r;e-->n;)s(e);if(f.splice(n,r),c=f.length)while(n<c)et(f[n]).setProperty("index",n++)}return this},refresh:function(n){var t=this,i=t.parent;return i&&(vi(t,t.index,t.tmpl,i.views,t.data,n,!0),at(t)),t},nodes:ir,contents:ri,childTags:tr,link:tu},o.merge={input:{from:{fromAttr:hr},to:{toAttr:"value"}},textarea:gi,select:gi,optgroup:{from:{fromAttr:"label"},to:{toAttr:"label"}}},o.debugMode&&(yi=!o.noValidate,n._jsv={views:l,bindings:s}),b(t,{view:r.view=p=function(n,r,u){r!==!!r&&(u=r,r=i);var o,s,v,c,w,h,b,y,p=0,k=f.body;if(n&&n!==k&&a._.useKey>1&&(n=""+n===n?t(n)[0]:n.jquery?n[0]:n,n))if(r){for(y=ht?n.querySelectorAll(gt):t(gt,n).get(),h=y.length,v=0;v<h;v++)for(b=y[v],s=e(b,i,rr),c=0,w=s.length;c<w;c++)if(o=s[c],(o=l[o.id])&&(o=o&&u?o.get(!0,u):o,o))return o}else while(n){if(s=e(n,i,uu))for(h=s.length;h--;)if(o=s[h],o.open){if(p<1)return o=l[o.id],o&&u?o.get(u):o||a;p--}else p++;n=n.previousSibling||n.parentNode}return r?i:a},link:r.link=ct,unlink:r.unlink=yt,cleanData:function(n){n.length&&(g(n),wr.call(t,n))}}),b(t.fn,{link:function(n,t,i,r,u,f){return ct(n,this,t,i,r,u,f)},unlink:function(n){return yt(n,this)},view:function(n){return p(this[0],n)}}),b(a,{tmpl:{links:{},tags:{}}}),b(a,wt),a._.onRender=it}})(this,this.jQuery)