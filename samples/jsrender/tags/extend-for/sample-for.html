<!DOCTYPE html>
<html>
<head>
  <script src="https://code.jquery.com/jquery-3.6.1.min.js"></script>
  <script src="../../../../download/jsrender.min.js"></script>
  <script src="../../../sample-viewer.min.js"></script>
  <link href="../../../../download/sample-tag-controls/grid/grid.css" rel="stylesheet" />
</head>
<body>
<div id="purchases"></div>

<script id="myTmpl" type="text/x-jsrender">
<em>Unsorted</em>

<table class="grid" style="width:600px;"><thead><tr>
  <th>Category</th><th>Quantity</th>
  <th>Total quantity</th><th>Price</th>
  <th>Amount</th><th>Total cost</th></tr></thead><tbody>
  {{for lineItems}}
    <tr>
      <td>{{:category}}</td>
      <td>{{:quantity}}</td>
      <td class="total">{{:~total("quantity")}}</td>
      <td>{{dec2:price}}</td>
      <td>{{dec2:quantity*price}}</td>
      <td class="total">{{dec2:~total("quantity*price")}}</td>
    </tr>
  {{else}}
    <tr><td colspan="6">No items</td></tr>
  {{/for}}
</tbody></table>

<em>Sorted by category</em>

<table class="grid" style="width:600px;"><thead><tr>
  <th>Category</th><th>Quantity</th>
  <th>Total quantity</th><th>Price</th>
  <th>Amount</th><th>Total cost</th></tr></thead><tbody>
  {{for lineItems sort="category"}}
    <tr>
      <td>{{:category}}</td>
      <td>{{:quantity}}</td>
      <td class="total">{{:~total("quantity")}}</td>
      <td>{{dec2:price}}</td>
      <td>{{dec2:quantity*price}}</td>
      <td class="total">{{dec2:~total("quantity*price")}}</td>
    </tr>
  {{else}}
    <tr><td colspan="6">No items</td></tr>
  {{/for}}
</tbody></table>

<em>Filtered on "book" categories, sorted on decreasing "price"</em>

<table class="grid" style="width:600px;"><thead><tr>
  <th>Category</th><th>Quantity</th>
  <th>Total quantity</th><th>Price</th>
  <th>Amount</th><th>Total cost</th></tr></thead><tbody>
  {{for lineItems sort="price" reverse=true filter=~category category="book"}}
    <tr>
      <td>{{:category}}</td>
      <td>{{:quantity}}</td>
      <td class="total">{{:~total("quantity")}}</td>
      <td>{{dec2:price}}</td>
      <td>{{dec2:quantity*price}}</td>
      <td class="total">{{dec2:~total("quantity*price")}}</td>
    </tr>
  {{else}}
    <tr><td colspan="6">No items</td></tr>
  {{/for}}
</tbody></table>

<em>Filtered on "restaurant" category</em>

<table class="grid" style="width:600px;"><thead><tr>
  <th>Category</th><th>Quantity</th>
  <th>Total quantity</th><th>Price</th>
  <th>Amount</th><th>Total cost</th></tr></thead><tbody>
  {{for lineItems filter=~category category="restaurant"}}
    <tr>
      <td>{{:category}}</td>
      <td>{{:quantity}}</td>
      <td class="total">{{:~total("quantity")}}</td>
      <td>{{dec2:price}}</td>
      <td>{{dec2:quantity*price}}</td>
      <td class="total">{{dec2:~total("quantity*price")}}</td>
    </tr>
  {{else}}
    <tr><td colspan="6">No items</td></tr>
  {{/for}}
</tbody></table>
</script>

<!--<script src="sample-for.js"></script> <!--uncomment for testing as standalone page-->
</body>
</html>
