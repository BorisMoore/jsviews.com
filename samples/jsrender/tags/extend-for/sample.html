<!DOCTYPE html>
<html>
<head>
  <script src="https://code.jquery.com/jquery-3.3.1.min.js"></script>
  <script src="../../../../download/jsrender.min.js"></script>
  <script src="../../../sample-viewer.min.js"></script>
  <link href="sample.css" rel="stylesheet"/>
</head>
<body>

<script id="myTmpl" type="text/x-jsrender">
<em>Unsorted</em>

<table><tbody>
  <tr><th>Category</th><th>Quantity</th>
  <th>Total quantity</th><th>Price</th>
  <th>Amount</th><th>Total cost</th></tr>
  {{purchases lineItems}} 
    <tr>
      <td>{{:category}}</td>
      <td>{{:quantity}}</td>
      <td class="total">{{:~total("quantity")}}</td>
      <td>{{dec2:price}}</td>
      <td>{{dec2:quantity*price}}</td>
      <td class="total">{{dec2:~total("quantity*price")}}</td>
    </tr>
  {{else}}
    <tr><td colspan="6">No items</td></tr>
  {{/purchases}}
</tbody></table>

<em>Sorted by category</em>

<table><tbody>
  <tr><th>Category</th><th>Quantity</th>
  <th>Total quantity</th><th>Price</th>
  <th>Amount</th><th>Total cost</th></tr>
  {{purchases lineItems sort="category"}}
    <tr>
      <td>{{:category}}</td>
      <td>{{:quantity}}</td>
      <td class="total">{{:~total("quantity")}}</td>
      <td>{{dec2:price}}</td>
      <td>{{dec2:quantity*price}}</td>
      <td class="total">{{dec2:~total("quantity*price")}}</td>
    </tr>
  {{else}}
    <tr><td colspan="6">No items</td></tr>
  {{/purchases}}
</tbody></table>

<em>Filtered on "grocery" category</em>

<table><tbody>
  <tr><th>Category</th><th>Quantity</th>
  <th>Total quantity</th><th>Price</th>
  <th>Amount</th><th>Total cost</th></tr>
  {{purchases lineItems sort="category" filter=~category category="grocery"}} 
    <tr>
      <td>{{:category}}</td>
      <td>{{:quantity}}</td>
      <td class="total">{{:~total("quantity")}}</td>
      <td>{{dec2:price}}</td>
      <td>{{dec2:quantity*price}}</td>
      <td class="total">{{dec2:~total("quantity*price")}}</td>
    </tr>
  {{else}}
    <tr><td colspan="6">No items</td></tr>
  {{/purchases}}
</tbody></table>

<em>Filtered on "restaurant" category</em>

<table><tbody>
  <tr><th>Category</th><th>Quantity</th>
  <th>Total quantity</th><th>Price</th>
  <th>Amount</th><th>Total cost</th></tr>
  {{purchases lineItems sort="category" filter=~category category="restaurant"}} 
    <tr>
      <td>{{:category}}</td>
      <td>{{:quantity}}</td>
      <td class="total">{{:~total("quantity")}}</td>
      <td>{{dec2:price}}</td>
      <td>{{dec2:quantity*price}}</td>
      <td class="total">{{dec2:~total("quantity*price")}}</td>
    </tr>
  {{else}}
    <tr><td colspan="6">No items</td></tr>
  {{/purchases}}
</tbody></table>
</script>

<div id="purchases"></div>
<!--<script src="sample.js"></script> <!--uncomment for testing as standalone page-->
</body>
</html>
