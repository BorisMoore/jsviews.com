<!DOCTYPE html>
<html>
<head>
  <base href="../../../../" />
  <script src="http://code.jquery.com/jquery.js"></script>
  <script src="download/jsviews.js"></script>
  <script src="samples/sample-viewer.js"></script>
  <script src="http://code.jquery.com/ui/1.10.3/jquery-ui.js"></script>
  <link href="http://code.jquery.com/ui/1.10.3/themes/smoothness/jquery-ui.css" rel="stylesheet"/>
  <script src="download/sample-tag-controls/generic-edit/edit.js" type="text/javascript"></script>
  <script src="download/sample-tag-controls/slider/slider-derived.js" type="text/javascript"></script>
  <link href="download/sample-tag-controls/slider/slider.css" rel="stylesheet"/>
  <script src="download/sample-tag-controls/validate/validate.js" type="text/javascript"></script>
  <link href="download/sample-tag-controls/validate/validate.css" rel="stylesheet"/>
</head>
<body>

<h3>JsViews 'slider' tag control (using jQuery UI slider) with validation</h3>

<script id="myTmpl" type="text/x-jsrender">
  Prevent invalid data:<input type="checkbox" data-link="~page.noInvalidData" /><br/>

  <h4>Size:</h4>
  <input type="text" data-link="{:size:tonum}" />

  <h4>Data-linked SVG:</h4>

  <svg data-link="css-width{: 2 + size*2}" class="svg-circles">
    <circle data-link="r{:size} cx{:size + 1}"
      class="svg-circle" cy="51" stroke-width="2" stroke="green"></circle>
    <circle data-link="r{:size*3/4} cx{:size + 1} cy{:102 - size*3/4}"
      class="svg-circle" stroke="#aaa"></circle>
    <circle data-link="r{:size/2} cx{:size + 1} cy{:size/2}"
      class="svg-circle" stroke="#aaa"></circle>
    <circle data-link="r{:size/4} cx{:size + 1}"
      class="svg-circle" cy="51" stroke-width="2" stroke="blue"></circle>
  </svg>

  <h4>Full range</h4>
  <div data-link="{slider size
    range='min'
    min=1 max=200
  }" class="main-slider"></div>

  <h4>Limitted range: 50 - 100</h4>
  {^{validate size
    min=50 max=100
    msg_min="Min size: %cond%"
    msg_max="Max size: %cond%"
    preventInvalidData=~page.noInvalidData
  }}
    <div data-link="{slider
      orientation='vertical'
      height=150
      range='min'
      min=0
      max=200
    }"></div>
  {{/validate}}

  <h4>Limitted range: 20 - 150</h4>
  {^{validate size
    min=20
    max=150
    msg_min="Min size: %cond%"
    msg_max="Max size: %cond%"
    preventInvalidData=~page.noInvalidData
  }}
    {^{slider
      orientation='vertical'
      height=150
      range='min'
      min=0
      max=200
    /}}
  {{/validate}}

</script>

<div id="page"></div>

<!--<script src="samples/tag-controls/datepicker/with-validation/sample.js"></script> <!--uncomment for testing as standalone page-->
</body>
</html>
