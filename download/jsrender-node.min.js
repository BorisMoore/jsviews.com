/*! JsRender v1.0.12: http://jsviews.com/#jsrender */
/*! **VERSION FOR NODE.JS** (For WEB see http://jsviews.com/download/jsrender.js) */
!function(t){"use strict";function e(t,e){return function(){var n,r=this,i=r.base;return r.base=t,n=e.apply(r,arguments),r.base=i,n}}function n(t,n){return it(n)&&(n=e(t?t._d?t:e(o,t):o,n),n._d=(t&&t._d||0)+1),n}function r(t,e){var r,i=e.props;for(r in i)!Nt.test(r)||t[r]&&t[r].fix||(t[r]="convert"!==r?n(t.constructor.prototype[r],i[r]):i[r])}function i(t){return t}function o(){return""}function a(t){try{throw console.log("JsRender dbg breakpoint: "+t),"dbg breakpoint"}catch(e){}return this.base?this.baseApply(arguments):t}function s(t){this.name=(Y.link?"JsViews":"JsRender")+" Error",this.message=t||this.name}function p(t,e){if(t){for(var n in e)t[n]=e[n];return t}}function l(t,e,n){return t?ot(t)?l.apply(rt,t):(_t=n?n[0]:_t,/^(\W|_){5}$/.test(t+e+_t)||S("Invalid delimiters"),gt=t[0],ht=t[1],vt=e[0],mt=e[1],dt.delimiters=[gt+ht,vt+mt,_t],t="\\"+gt+"(\\"+_t+")?\\"+ht,e="\\"+vt+"\\"+mt,et="(?:(\\w+(?=[\\/\\s\\"+vt+"]))|(\\w+)?(:)|(>)|(\\*))\\s*((?:[^\\"+vt+"]|\\"+vt+"(?!\\"+mt+"))*?)",ct.rTag="(?:"+et+")",et=new RegExp("(?:"+t+et+"(\\/)?|\\"+gt+"(\\"+_t+")?\\"+ht+"(?:(?:\\/(\\w+))\\s*|!--[\\s\\S]*?--))"+e,"g"),ct.rTmpl=new RegExp("^\\s|\\s$|<.*>|([^\\\\]|^)[{}]|"+t+".*"+e),ft):dt.delimiters}function c(t,e){e||t===!0||(e=t,t=void 0);var n,r,i,o,a=this,s="root"===e;if(t){if(o=e&&a.type===e&&a,!o)if(n=a.views,a._.useKey){for(r in n)if(o=e?n[r].get(t,e):n[r])break}else for(r=0,i=n.length;!o&&r<i;r++)o=e?n[r].get(t,e):n[r]}else if(s)o=a.root;else if(e)for(;a&&!o;)o=a.type===e?a:void 0,a=a.parent;else o=a.parent;return o||void 0}function d(){var t=this.get("item");return t?t.index:void 0}function u(){return this.index}function f(t,e,n,r){var i,a,s,p=0;if(1===n&&(r=1,n=void 0),e)for(a=e.split("."),s=a.length;t&&p<s;p++)i=t,t=a[p]?t[a[p]]:t;return n&&(n.lt=n.lt||p<s),void 0===t?r?o:"":r?function(){return t.apply(i,arguments)}:t}function g(e,n,r){var i,o,a,s,l,c,d,u=this,f=!wt&&arguments.length>1,g=u.ctx;if(e){if(u._||(l=u.index,u=u.tag),c=u,g&&g.hasOwnProperty(e)||(g=pt).hasOwnProperty(e)){if(a=g[e],"tag"===e||"tagCtx"===e||"root"===e||"parentTags"===e)return a}else g=void 0;if((!wt&&u.tagCtx||u.linked)&&(a&&a._cxp||(u=u.tagCtx||it(a)?u:(u=u.scope||u,!u.isTop&&u.ctx.tag||u),void 0!==a&&u.tagCtx&&(u=u.tagCtx.view.scope),g=u._ocps,a=g&&g.hasOwnProperty(e)&&g[e]||a,a&&a._cxp||!r&&!f||((g||(u._ocps=u._ocps||{}))[e]=a=[{_ocp:a,_vw:c,_key:e}],a._cxp={path:yt,ind:0,updateValue:function(t,e){return Y.observable(a[0]).setProperty(yt,t),this}})),s=a&&a._cxp)){if(arguments.length>2)return o=a[1]?ct._ceo(a[1].deps):[yt],o.unshift(a[0]),o._cxp=s,o;if(l=s.tagElse,d=a[1]?s.tag&&s.tag.cvtArgs?s.tag.cvtArgs(l,1)[s.ind]:a[1](a[0].data,a[0],ct):a[0]._ocp,f)return ct._ucp(e,n,u,s),u;a=d}return a&&it(a)&&(i=function(){return a.apply(this&&this!==t?this:c,arguments)},p(i,a)),i||a}}function h(t){return t&&(t.fn?t:this.getRsc("templates",t)||at(t))}function v(t,e,n,i){var o,a,s,l,c,d="number"==typeof n&&e.tmpl.bnds[n-1];if(void 0===i&&d&&d._lr&&(i=""),void 0!==i?n=i={props:{},args:[i]}:d&&(n=d(e.data,e,ct)),d=d._bd&&d,t||d){if(a=e._lc,o=a&&a.tag,n.view=e,!o){if(o=p(new ct._tg,{_:{bnd:d,unlinked:!0,lt:n.lt},inline:!a,tagName:":",convert:t,onArrayChange:!0,flow:!0,tagCtx:n,tagCtxs:[n],_is:"tag"}),l=n.args.length,l>1)for(c=o.bindTo=[];l--;)c.unshift(l);a&&(a.tag=o,o.linkCtx=a),n.ctx=L(n.ctx,(a?a.view:e).ctx),r(o,n)}o._er=i&&s,o.ctx=n.ctx||o.ctx||{},n.ctx=void 0,s=o.cvtArgs()[0],o._er=i&&s}else s=n.args[0];return s=d&&e._.onRender?e._.onRender(s,e,o):s,void 0!=s?s:""}function m(t,e){var n,r,i,o,a,s,p,l=this;if(l.tagName){if(s=l,l=(s.tagCtxs||[l])[t||0],!l)return}else s=l.tag;if(a=s.bindFrom,o=l.args,(p=s.convert)&&typeof p===Ut&&(p="true"===p?void 0:l.view.getRsc("converters",p)||S("Unknown converter: '"+p+"'")),p&&!e&&(o=o.slice()),a){for(i=[],n=a.length;n--;)r=a[n],i.unshift(_(l,r));e&&(o=i)}if(p){if(p=p.apply(s,i||o),void 0===p)return o;if(a=a||[0],n=a.length,ot(p)&&(p.arg0===!1||1!==n&&p.length===n&&!p.arg0)||(p=[p],a=[0],n=1),e)o=p;else for(;n--;)r=a[n],+r===r&&(o[r]=p[n])}return o}function _(t,e){return t=t[+e===e?"args":"props"],t&&t[e]}function x(t){return this.cvtArgs(t,1)}function w(t,e){var n,r,i=this;if(typeof e===Ut){for(;void 0===n&&i;)r=i.tmpl&&i.tmpl[t],n=r&&r[e],i=i.parent;return n||rt[t][e]}}function b(t,e,n,i,o,a){function s(t){var e=p[t];if(void 0!==e)for(e=ot(e)?e:[e],v=e.length;v--;)K=e[v],isNaN(parseInt(K))||(e[v]=parseInt(K));return e||[0]}e=e||nt;var p,l,c,d,u,f,h,v,w,b,y,C,k,T,j,F,$,P,A,N,R,E,O,I,D,K,U,q,J,B,W=0,Z="",z=e._lc||!1,G=e.ctx,H=n||e.tmpl,Q="number"==typeof i&&e.tmpl.bnds[i-1];for("tag"===t._is?(p=t,t=p.tagName,i=p.tagCtxs,c=p.template):(l=e.getRsc("tags",t)||S("Unknown tag: {{"+t+"}} "),c=l.template),void 0===a&&Q&&(Q._lr=l.lateRender&&Q._lr!==!1||Q._lr)&&(a=""),void 0!==a?(Z+=a,i=a=[{props:{},args:[],params:{props:{}}}]):Q&&(i=Q(e.data,e,ct)),h=i.length;W<h;W++)y=i[W],$=y.tmpl,(!z||!z.tag||W&&!z.tag.inline||p._er||$&&+$===$)&&($&&H.tmpls&&(y.tmpl=y.content=H.tmpls[$-1]),y.index=W,y.ctxPrm=g,y.render=V,y.cvtArgs=m,y.bndArgs=x,y.view=e,y.ctx=L(L(y.ctx,l&&l.ctx),G)),(n=y.props.tmpl)&&(y.tmpl=e._getTmpl(n),y.content=y.content||y.tmpl),p?z&&z.fn._lr&&(P=!!p.init):(p=new l._ctr,P=!!p.init,p.parent=f=G&&G.tag,p.tagCtxs=i,z&&(p.inline=!1,z.tag=p),p.linkCtx=z,(p._.bnd=Q||z.fn)?(p._.ths=y.params.props["this"],p._.lt=i.lt,p._.arrVws={}):p.dataBoundOnly&&S(t+" must be data-bound:\n{^{"+t+"}}")),I=p.dataMap,y.tag=p,I&&i&&(y.map=i[W].map),p.flow||(C=y.ctx=y.ctx||{},d=p.parents=C.parentTags=G&&L(C.parentTags,G.parentTags)||{},f&&(d[f.tagName]=f),d[p.tagName]=C.tag=p,C.tagCtx=y);if(!(p._er=a)){for(r(p,i[0]),p.rendering={rndr:p.rendering},W=0;W<h;W++){if(y=p.tagCtx=i[W],O=y.props,p.ctx=y.ctx,!W){if(P&&(p.init(y,z,p.ctx),P=void 0),y.args.length||y.argDefault===!1||p.argDefault===!1||(y.args=R=[y.view.data],y.params.args=["#data"]),T=s("bindTo"),void 0!==p.bindTo&&(p.bindTo=T),void 0!==p.bindFrom?p.bindFrom=s("bindFrom"):p.bindTo&&(p.bindFrom=p.bindTo=T),j=p.bindFrom||T,q=T.length,U=j.length,p._.bnd&&(J=p.linkedElement)&&(p.linkedElement=J=ot(J)?J:[J],q!==J.length&&S("linkedElement not same length as bindTo")),(J=p.linkedCtxParam)&&(p.linkedCtxParam=J=ot(J)?J:[J],U!==J.length&&S("linkedCtxParam not same length as bindFrom/bindTo")),j)for(p._.fromIndex={},p._.toIndex={},w=U;w--;)for(K=j[w],v=q;v--;)K===T[v]&&(p._.fromIndex[v]=w,p._.toIndex[w]=v);z&&(z.attr=p.attr=z.attr||p.attr||z._dfAt),u=p.attr,p._.noVws=u&&u!==Kt}if(R=p.cvtArgs(W),p.linkedCtxParam)for(E=p.cvtArgs(W,1),v=U,B=p.constructor.prototype.ctx;v--;)(k=p.linkedCtxParam[v])&&(K=j[v],F=E[v],y.ctx[k]=ct._cp(B&&void 0===F?B[k]:F,void 0!==F&&_(y.params,K),y.view,p._.bnd&&{tag:p,cvt:p.convert,ind:v,tagElse:W}));(A=O.dataMap||I)&&(R.length||O.dataMap)&&(N=y.map,N&&N.src===R[0]&&!o||(N&&N.src&&N.unmap(),A.map(R[0],y,N,!p._.bnd),N=y.map),R=[N.tgt]),b=void 0,p.render&&(b=p.render.apply(p,R),e.linked&&b&&!Rt.test(b)&&(n={links:[]},n.render=n.fn=function(){return b},b=M(n,e.data,void 0,!0,e,void 0,void 0,p))),R.length||(R=[e]),void 0===b&&(D=R[0],p.contentCtx&&(D=p.contentCtx===!0?e:p.contentCtx(D)),b=y.render(D,!0)||(o?void 0:"")),Z=Z?Z+(b||""):void 0!==b?""+b:void 0}p.rendering=p.rendering.rndr}return p.tagCtx=i[0],p.ctx=p.tagCtx.ctx,p._.noVws&&p.inline&&(Z="text"===u?st.html(Z):""),Q&&e._.onRender?e._.onRender(Z,e,p):Z}function y(t,e,n,r,i,o,a,s){var p,l,c,u=this,f="array"===e;u.content=s,u.views=f?[]:{},u.data=r,u.tmpl=i,c=u._={key:0,useKey:f?0:1,id:""+St++,onRender:a,bnds:{}},u.linked=!!a,u.type=e||"top",e&&(u.cache={_ct:dt._cchCt}),n&&"top"!==n.type||((u.ctx=t||{}).root=u.data),(u.parent=n)?(u.root=n.root||u,p=n.views,l=n._,u.isTop=l.scp,u.scope=(!t.tag||t.tag===n.ctx.tag)&&!u.isTop&&n.scope||u,l.useKey?(p[c.key="_"+l.useKey++]=u,u.index=Jt,u.getIndex=d):p.length===(c.key=u.index=o)?p.push(u):p.splice(o,0,u),u.ctx=t||n.ctx):e&&(u.root=u)}function C(t){var e,n,r;for(e in Wt)n=e+"s",t[n]&&(r=t[n],t[n]={},rt[n](r,t))}function k(t,e,r){function i(){var e=this;e._={unlinked:!0},e.inline=!0,e.tagName=t}var o,a,s,l=new ct._tg;if(it(e)?e={depends:e.depends,render:e}:typeof e===Ut&&(e={template:e}),a=e.baseTag){e.flow=!!e.flow,a=typeof a===Ut?r&&r.tags[a]||lt[a]:a,a||S('baseTag: "'+e.baseTag+'" not found'),l=p(l,a);for(s in e)l[s]=n(a[s],e[s])}else l=p(l,e);return void 0!==(o=l.template)&&(l.template=typeof o===Ut?at[o]||at(o):o),(i.prototype=l).constructor=l._ctr=i,r&&(l._parentTmpl=r),l}function T(t){return this.base.apply(this,t)}function j(t,e,n,r){function i(e){var i;if(typeof e===Ut||e.nodeType>0&&(o=e)){if(!o&&/^\.?\/[^\\:*?"<>]*$/.test(e))if(i=at[t=t||e])e=i;else{try{e=Zt.readFileSync(e,"utf8")}catch(a){a&&"ENOENT"==a.code&&S("Template '"+e+"' not found at '"+a.path+"'. Use path relative to '"+Ht+"'.")}e=j(t,e.replace(/^\uFEFF/,""),n,r),r||(at[t]=e)}o=void 0}else e.fn||(e=void 0);return e}var o,a,s=e=e||"";if(ct._html=st.html,0===r&&(r=void 0,s=i(s)),r=r||(e.markup?e.bnds?p({},e):e:{}),r.tmplName=r.tmplName||t||"unnamed",n&&(r._parentTmpl=n),!s&&e.markup&&(s=i(e.markup))&&s.fn&&(s=s.markup),void 0!==s)return s.render||e.render?s.tmpls&&(a=s):(e=A(s,r),D(s.replace(Tt,"\\$&"),e)),a||(a=p(function(){return a.render.apply(a,arguments)},e),C(a)),a}function F(t,e){return it(t)?t.call(e):t}function $(t,e,n){Object.defineProperty(t,e,{value:n,configurable:!0})}function P(t,e){function n(t){l.apply(this,t)}function r(){return new n(arguments)}function i(t,e){for(var n,r,i,o,a,s=0;s<_;s++)i=u[s],n=void 0,typeof i!==Ut&&(n=i,i=n.getter,a=n.parentRef),void 0===(o=t[i])&&n&&void 0!==(r=n.defaultVal)&&(o=F(r,t)),e(o,n&&d[n.type],i,a)}function o(e){e=typeof e===Ut?JSON.parse(e):e;var n,r,o,p,l=0,c=e,d=[];if(ot(e)){for(e=e||[],n=e.length;l<n;l++)d.push(this.map(e[l]));return d._is=t,d.unmap=s,d.merge=a,d}if(e){for(i(e,function(t,e){e&&(t=e.map(t)),d.push(t)}),c=this.apply(this,d),l=_;l--;)if(o=d[l],p=u[l].parentRef,p&&o&&o.unmap)if(ot(o))for(n=o.length;n--;)$(o[n],p,c);else $(o,p,c);for(r in e)r===$expando||w[r]||(c[r]=e[r])}return c}function a(t,e,n){t=typeof t===Ut?JSON.parse(t):t;var o,a,s,p,l,c,d,u,f,h,v=0,m=this;if(ot(m)){for(d={},f=[],a=t.length,s=m.length;v<a;v++){for(u=t[v],c=!1,o=0;o<s&&!c;o++)d[o]||(l=m[o],g&&(d[o]=c=typeof g===Ut?u[g]&&(w[g]?l[g]():l[g])===u[g]:g(l,u)));c?(l.merge(u),f.push(l)):(f.push(h=r.map(u)),n&&$(h,n,e))}return void(x?x(m).refresh(f,!0):m.splice.apply(m,[0,m.length].concat(f)))}i(t,function(t,e,n,r){e?m[n]().merge(t,m,r):m[n]()!==t&&m[n](t)});for(p in t)p===$expando||w[p]||(m[p]=t[p])}function s(){function t(t){for(var e=[],n=0,r=t.length;n<r;n++)e.push(t[n].unmap());return e}var e,n,r,i,o=0,a=this;if(ot(a))return t(a);for(e={};o<_;o++)n=u[o],r=void 0,typeof n!==Ut&&(r=n,n=r.getter),i=a[n](),e[n]=r&&i&&d[r.type]?ot(i)?t(i):i.unmap():i;for(n in a)!a.hasOwnProperty(n)||"_"===n.charAt(0)&&w[n.slice(1)]||n===$expando||it(a[n])||(e[n]=a[n]);return e}var p,l,c,d=this,u=e.getters,f=e.extend,g=e.id,h=Y.extend({_is:t||"unnamed",unmap:s,merge:a},f),v="",m="",_=u?u.length:0,x=Y.observable,w={};for(n.prototype=h,p=0;p<_;p++)!function(t){t=t.getter||t,w[t]=p+1;var e="_"+t;v+=(v?",":"")+t,m+="this."+e+" = "+t+";\n",h[t]=h[t]||function(n){return arguments.length?void(x?x(this).setProperty(t,n):this[e]=n):this[e]},x&&(h[t].set=h[t].set||function(t){this[e]=t})}(u[p]);return m=new Function(v,m),l=function(){m.apply(this,arguments),(c=arguments[_+1])&&$(this,arguments[_],c)},l.prototype=h,h.constructor=l,r.map=o,r.getters=u,r.extend=f,r.id=g,r}function A(t,e){var n,r=ut._wm||{},i={tmpls:[],links:{},bnds:[],_is:"template",render:V};return e&&(i=p(i,e)),i.markup=t,i.htmlTag||(n=$t.exec(t),i.htmlTag=n?n[1].toLowerCase():""),n=r[i.htmlTag],n&&n!==r.div&&(i.markup=Y.trim(i.markup)),i}function N(t,e){function n(i,o,a){var s,p,l,c=ct.onStore[t];if(i&&typeof i===qt&&!i.nodeType&&!i.markup&&!i.getTgt&&!("viewModel"===t&&i.getters||i.extend)){for(p in i)n(p,i[p],o);return o||rt}return i&&typeof i!==Ut&&(a=o,o=i,i=void 0),l=a?"viewModel"===t?a:a[r]=a[r]||{}:n,s=e.compile,void 0===o&&(o=s?i:l[i],i=void 0),null===o?i&&delete l[i]:(s&&(o=s.call(l,i,o,a,0)||{},o._is=t),i&&(l[i]=o)),c&&c(i,o,a,s),o}var r=t+"s";rt[r]=n}function R(t){ft[t]=ft[t]||function(e){return arguments.length?(dt[t]=e,ft):dt[t]}}function E(t){function e(e,n){this.tgt=t.getTgt(e,n),n.map=this}return it(t)&&(t={getTgt:t}),t.baseMap&&(t=p(p({},t.baseMap),t)),t.map=function(t,n){return new e(t,n)},t}function V(t,e,n,r,i,o){var a,s,p,l,c,d,u,f,g=r,h="";if(e===!0?(n=e,e=void 0):typeof e!==qt&&(e=void 0),(p=this.tag)?(c=this,g=g||c.view,l=g._getTmpl(p.template||c.tmpl),arguments.length||(t=p.contentCtx&&it(p.contentCtx)?t=p.contentCtx(t):g)):l=this,l){if(!r&&t&&"view"===t._is&&(g=t),g&&t===g&&(t=g.data),d=!g,wt=wt||d,d&&((e=e||{}).root=t),!wt||ut.useViews||l.useViews||g&&g!==nt)h=M(l,t,e,n,g,i,o,p);else{if(g?(u=g.data,f=g.index,g.index=Jt):(g=nt,u=g.data,g.data=t,g.ctx=e),ot(t)&&!n)for(a=0,s=t.length;a<s;a++)g.index=a,g.data=t[a],h+=l.fn(t[a],g,ct);else g.data=t,h+=l.fn(t,g,ct);g.data=u,g.index=f}d&&(wt=void 0)}return h}function M(t,e,n,r,i,o,a,s){var l,c,d,u,f,g,h,v,m,_,x,w,b,C="";if(s&&(m=s.tagName,w=s.tagCtx,n=n?L(n,s.ctx):s.ctx,t===i.content?h=t!==i.ctx._wrp?i.ctx._wrp:void 0:t!==w.content?t===s.template?(h=w.tmpl,n._wrp=w.content):h=w.content||i.content:h=i.content,w.props.link===!1&&(n=n||{},n.link=!1)),i&&(a=a||i._.onRender,b=n&&n.link===!1,b&&i._.nl&&(a=void 0),n=L(n,i.ctx),w=!s&&i.tag?i.tag.tagCtxs[i.tagElse]:w),(_=w&&w.props.itemVar)&&("~"!==_[0]&&I("Use itemVar='~myItem'"),_=_.slice(1)),o===!0&&(g=!0,o=0),a&&s&&s._.noVws&&(a=void 0),v=a,a===!0&&(v=void 0,a=i._.onRender),n=t.helpers?L(t.helpers,n):n,x=n,ot(e)&&!r)for(d=g?i:void 0!==o&&i||new y(n,"array",i,e,t,o,a,h),d._.nl=b,i&&i._.useKey&&(d._.bnd=!s||s._.bnd&&s,d.tag=s),l=0,c=e.length;l<c;l++)u=new y(x,"item",d,e[l],t,(o||0)+l,a,d.content),_&&((u.ctx=p({},x))[_]=ct._cp(e[l],"#data",u)),f=t.fn(e[l],u,ct),C+=d._.onRender?d._.onRender(f,u):f;else d=g?i:new y(x,m||"data",i,e,t,o,a,h),_&&((d.ctx=p({},x))[_]=ct._cp(e,"#data",d)),d.tag=s,d._.nl=b,C+=t.fn(e,d,ct);return s&&(d.tagElse=w.index,w.contentView=d),v?v(C,d):C}function O(t,e,n){var r=void 0!==n?it(n)?n.call(e.data,t,e):n||"":"{Error: "+(t.message||t)+"}";return dt.onError&&void 0!==(n=dt.onError.call(e.data,t,n&&r,e))&&(r=n),e&&!e._lc?st.html(r):r}function S(t){throw new ct.Err(t)}function I(t){S("Syntax error\n"+t)}function D(t,e,n,r,i){function o(e){e-=h,e&&m.push(t.substr(h,e).replace(Ct,"\\n"))}function a(e,n){e&&(e+="}}",I((n?"{{"+n+"}} block has {{/"+e+" without {{"+e:"Unmatched or missing {{/"+e)+", in template:\n"+t))}function s(s,p,l,u,g,x,w,b,y,C,k,T){(w&&p||y&&!l||b&&":"===b.slice(-1)||C)&&I(s),x&&(g=":",u=Kt),y=y||n&&!i;var j,F,$,P=(p||n)&&[[]],A="",N="",R="",E="",V="",M="",O="",S="",D=!y&&!g;l=l||(b=b||"#data",g),o(T),h=T+s.length,w?f&&m.push(["*","\n"+b.replace(/^:/,"ret+= ").replace(kt,"$1")+";\n"]):l?("else"===l&&(Ft.test(b)&&I('For "{{else if expr}}" use "{{else expr}}"'),P=_[9]&&[[]],_[10]=t.substring(_[10],T),F=_[11]||_[0]||I("Mismatched: "+s),_=v.pop(),m=_[2],D=!0),b&&J(b.replace(Ct," "),P,e,n).replace(jt,function(t,e,n,r,i,o,a,s){return"this:"===r&&(o="undefined"),s&&($=$||"@"===s[0]),r="'"+i+"':",a?(N+=n+o+",",E+="'"+s+"',"):n?(R+=r+"j._cp("+o+',"'+s+'",view),',M+=r+"'"+s+"',"):e?O+=o:("trigger"===i&&(S+=o),"lateRender"===i&&(j="false"!==s),A+=r+o+",",V+=r+"'"+s+"',",d=d||Nt.test(i)),""}).slice(0,-1),P&&P[0]&&P.pop(),c=[l,u||!!r||d||"",D&&[],U(E||(":"===l?"'#data',":""),V,M),U(N||(":"===l?"data,":""),A,R),O,S,j,$,P||0],m.push(c),D&&(v.push(_),_=c,_[10]=h,_[11]=F)):k&&(a(k!==_[0]&&k!==_[11]&&k,_[0]),_[10]=t.substring(_[10],T),_=v.pop()),a(!_&&k),m=_[2]}var p,l,c,d,u,f=dt.allowCode||e&&e.allowCode||ft.allowCode===!0,g=[],h=0,v=[],m=g,_=[,,g];if(f&&e._is&&(e.allowCode=f),n&&(void 0!==r&&(t=t.slice(0,-r.length-2)+vt),t=gt+t+mt),a(v[0]&&v[0][2].pop()[0]),t.replace(et,s),o(t.length),(h=g[g.length-1])&&a(typeof h!==Ut&&+h[10]===h[10]&&h[0]),n){for(l=B(g,t,n),u=[],p=g.length;p--;)u.unshift(g[p][9]);K(l,u)}else l=B(g,e);return l}function K(t,e){var n,r,i=0,o=e.length;for(t.deps=[],t.paths=[];i<o;i++){t.paths.push(r=e[i]);for(n in r)"_jsvto"!==n&&r.hasOwnProperty(n)&&r[n].length&&!r[n].skp&&(t.deps=t.deps.concat(r[n]))}}function U(t,e,n){return[t.slice(0,-1),e.slice(0,-1),n.slice(0,-1)]}function q(t,e){return"\n\tparams:{args:["+t[0]+"],\n\tprops:{"+t[1]+"}"+(t[2]?",\n\tctx:{"+t[2]+"}":"")+"},\n\targs:["+e[0]+"],\n\tprops:{"+e[1]+"}"+(e[2]?",\n\tctx:{"+e[2]+"}":"")}function J(t,e,n,r){function i(n,i,p,T,j,F,$,P,A,N,R,E,V,M,O,S,D,K,U,q,J){function B(t,n,i,s,p,l,c,f){if(G="."===i,i&&(j=j.slice(n.length),/^\.?constructor$/.test(f||j)&&I(t),G||(t=(N?(r?"":"(ltOb.lt=ltOb.lt||")+"(ob=":"")+(s?'view.ctxPrm("'+s+'")':p?"view":"data")+(N?")===undefined"+(r?"":")")+'?"":view._getOb(ob,"':"")+(f?(l?"."+l:s?"":p?"":"."+i)+(c||""):(f=s?"":p?l||"":i,"")),t+=f?"."+f:"",t=n+("view.data"===t.slice(0,9)?t.slice(5):t)+(N?(r?'"':'",ltOb')+(R?",1)":")"):"")),d)){if(W="_linkTo"===o?a=e._jsvto=e._jsvto||[]:u.bd,Z=G&&W[W.length-1]){if(Z._cpfn){for(;Z.sb;)Z=Z.sb;Z.prm&&(Z.bnd&&(j="^"+j.slice(1)),Z.sb=j,Z.bnd=Z.bnd||"^"===j[0])}}else W.push(j);R&&!G&&(b[v]=X,y[v]=C[v].length)}return t}T&&!P&&(j=T+j),F=F||"",V=V||"",p=p||i||V,j=j||A,N&&(N=!/\)|]/.test(J[q-1]))&&(j=j.slice(1).split(".").join("^")),R=R||K||"";var L,W,Z,z,G,H,Q,X=q;if(!c&&!l){if($&&I(t),D&&d){if(L=b[v-1],J.length-1>X-(L||0)){if(L=Y.trim(J.slice(L,X+n.length)),W=a||f[v-1].bd,Z=W[W.length-1],Z&&Z.prm){for(;Z.sb&&Z.sb.prm;)Z=Z.sb;z=Z.sb={path:Z.sb,bnd:Z.bnd}}else W.push(z={path:W.pop()});Z&&Z.sb===z&&(C[v]=C[v-1].slice(Z._cpPthSt)+C[v],C[v-1]=C[v-1].slice(0,Z._cpPthSt)),z._cpPthSt=y[v-1],z._cpKey=L,C[v]+=J.slice(k,q),k=q,z._cpfn=Bt[L]=Bt[L]||new Function("data,view,j","//"+L+"\nvar v;\nreturn ((v="+C[v]+("]"===S?")]":S)+")!=null?v:null);"),C[v-1]+=w[h]&&ut.cache?'view.getCache("'+L.replace(Tt,"\\$&")+'"':C[v],z.prm=u.bd,z.bnd=z.bnd||z.path&&z.path.indexOf("^")>=0}C[v]=""}"["===R&&(R="[j._sq("),"["===p&&(p="[j._sq(")}return Q=c?(c=!M,c?n:V+'"'):l?(l=!O,l?n:V+'"'):(p?(x[++h]=!0,m[h]=0,d&&(b[v++]=X++,u=f[v]={bd:[]},C[v]="",y[v]=1),p):"")+(U?h?"":(g=J.slice(g,X),(o?(o=s=a=!1,"\b"):"\b,")+g+(g=X+n.length,d&&e.push(u.bd=[]),"\b")):P?(v&&I(t),d&&e.pop(),o="_"+j,s=T,g=X+n.length,d&&(d=u.bd=e[o]=[],d.skp=!T),j+":"):j?j.split("^").join(".").replace(ct.rPath,B)+(R||F):F?F:S?"]"===S?")]":")":E?(w[h]||I(t),","):i?"":(c=M,l=O,'"')),c||l||S&&(w[h]=!1,h--),d&&(c||l||(S&&(x[h+1]&&(u=f[--v],x[h+1]=!1),_=m[h+1]),R&&(m[h+1]=C[v].length+(p?1:0),(j||S)&&(u=f[++v]={bd:[]},x[h+1]=!0))),C[v]=(C[v]||"")+J.slice(k,q),k=q+n.length,c||l||((H=p&&x[h+1])&&(C[v-1]+=p,y[v-1]++),"("===R&&G&&!z&&(C[v]=C[v-1].slice(_)+C[v],C[v-1]=C[v-1].slice(0,_))),C[v]+=H?Q.slice(1):Q),c||l||!R||(h++,j&&"("===R&&(w[h]=!0)),c||l||!K||(d&&(C[v]+=R),Q+=R),Q}var o,a,s,p,l,c,d=e&&e[0],u={bd:d},f={0:u},g=0,h=0,v=0,m={},_=0,x={},w={},b={},y={0:0},C={0:""},k=0;return"@"===t[0]&&(t=t.replace(Ot,".")),p=(t+(n?" ":"")).replace(ct.rPrm,i),d&&(p=C[0]),!h&&p||I(t)}function B(t,e,n){var r,i,o,a,s,p,l,c,d,u,f,g,h,v,m,_,x,w,b,y,C,k,T,j,F,$,P,N,R,E,V,M,O,S=0,D=ut.useViews||e.useViews||e.tags||e.templates||e.helpers||e.converters,U="",J={},L=t.length;for(typeof e===Ut?(w=n?'data-link="'+e.replace(Ct," ").slice(1,-1)+'"':e,e=0):(w=e.tmplName||"unnamed",e.allowCode&&(J.allowCode=!0),e.debug&&(J.debug=!0),f=e.bnds,x=e.tmpls),r=0;r<L;r++)if(i=t[r],typeof i===Ut)U+='+"'+i+'"';else if(o=i[0],"*"===o)U+=";\n"+i[1]+"\nret=ret";else{a=i[1],C=!n&&i[2],s=q(i[3],h=i[4]);var W=h[1];if(W&&/^'tmpl':"\.\/[^\:*?"<>]*"$/.test(W)&&(e.refs=e.refs||{},e.refs[W.slice(8,-1)]=1),E=i[6],V=i[7],i[8]?(M="\nvar ob,ltOb={},ctxs=",O=";\nctxs.lt=ltOb.lt;\nreturn ctxs;"):(M="\nreturn ",O=""),k=i[10]&&i[10].replace(kt,"$1"),(F="else"===o)?g&&g.push(i[9]):(N=i[5]||dt.debugMode!==!1&&"undefined",f&&(g=i[9])&&(g=[g],S=f.push(1))),D=D||h[1]||h[2]||g||/view.(?!index)/.test(h[0]),($=":"===o)?a&&(o=a===Kt?">":a+o):(C&&(b=A(k,J),b.tmplName=w+"/"+o,b.useViews=b.useViews||D,B(C,b),D=b.useViews,x.push(b)),F||(y=o,D=D||o&&(!lt[o]||!lt[o].flow),j=U,U=""),T=t[r+1],T=T&&"else"===T[0]),R=N?";\ntry{\nret+=":"\n+",v="",m="",$&&(g||E||a&&a!==Kt||V)){if(P=new Function("data,view,j","// "+w+" "+ ++S+" "+o+M+"{"+s+"};"+O),P._er=N,P._tag=o,P._bd=!!g,P._lr=V,n)return P;K(P,g),_='c("'+a+'",view,',u=!0,v=_+S+",",m=")"}if(U+=$?(n?(N?"try{\n":"")+"return ":R)+(u?(u=void 0,D=d=!0,_+(P?(f[S-1]=P,S):"{"+s+"}")+")"):">"===o?(l=!0,"h("+h[0]+")"):(c=!0,"((v="+h[0]+")!=null?v:"+(n?"null)":'"")'))):(p=!0,"\n{view:view,content:false,tmpl:"+(C?x.length:"false")+","+s+"},"),y&&!T){if(U="["+U.slice(0,-1)+"]",_='t("'+y+'",view,this,',n||g){if(U=new Function("data,view,j"," // "+w+" "+S+" "+y+M+U+O),U._er=N,U._tag=y,g&&K(f[S-1]=U,g),U._lr=V,n)return U;v=_+S+",undefined,",m=")"}U=j+R+_+(g&&S||U)+")",g=0,y=0}N&&!T&&(D=!0,U+=";\n}catch(e){ret"+(n?"urn ":"+=")+v+"j._err(e,view,"+N+")"+m+";}"+(n?"":"\nret=ret"))}U="// "+w+(J.debug?"\ndebugger;":"")+"\nvar v"+(p?",t=j._tag":"")+(d?",c=j._cnvt":"")+(l?",h=j._html":"")+(n?(i[8]?", ob":"")+";\n":',ret=""')+U+(n?"\n":";\nreturn ret;");try{U=new Function("data,view,j",U)}catch(Z){I("Compiled template code:\n\n"+U+'\n: "'+(Z.message||Z)+'"')}return e&&(e.fn=U,e.useViews=!!D),U}function L(t,e){return t&&t!==e?e?p(p({},e),t):t:e&&p({},e)}function W(t,e){var n,r,i=e.map,o=i&&i.propsArr;if(!o){if(o=[],typeof t===qt||it(t))for(n in t)r=t[n],n===Y.expando||!t.hasOwnProperty(n)||e.props.noFunctions&&Y.isFunction(r)||o.push({key:n,prop:r});i&&(i.propsArr=i.options&&o)}return Z(o,e)}function Z(t,e){var n,r,i,o=e.tag,a=e.props,s=e.params.props,p=a.filter,l=a.sort,c=l===!0,d=parseInt(a.step),u=a.reverse?-1:1;if(!ot(t))return t;if(c||l&&typeof l===Ut?(n=t.map(function(t,e){return t=c?t:f(t,l),{i:e,v:typeof t===Ut?t.toLowerCase():t}}),n.sort(function(t,e){return t.v>e.v?u:t.v<e.v?-u:0}),t=n.map(function(e){return t[e.i]})):(l||u<0)&&!o.dataMap&&(t=t.slice()),it(l)&&(t=t.sort(function(){return l.apply(e,arguments)})),u<0&&(!l||it(l))&&(t=t.reverse()),t.filter&&p&&(t=t.filter(p,e),e.tag.onFilter&&e.tag.onFilter(e)),s.sorted&&(n=l||u<0?t:t.slice(),o.sorted?Y.observable(o.sorted).refresh(n):e.map.sorted=n),r=a.start,i=a.end,(s.start&&void 0===r||s.end&&void 0===i)&&(r=i=0),isNaN(r)&&isNaN(i)||(r=+r||0,i=void 0===i||i>t.length?t.length:+i,t=t.slice(r,i)),d>1){for(r=0,i=t.length,n=[];r<i;r+=d)n.push(t[r]);t=n}return s.paged&&o.paged&&$observable(o.paged).refresh(t),t}function z(t){return It[t]||(It[t]="&#"+t.charCodeAt(0)+";")}function G(t,e){return Dt[e]||""}function H(t){return void 0!=t?At.test(t)&&(""+t).replace(Et,z)||t:""}function Q(t){return typeof t===Ut?t.replace(Vt,z):t}function X(t){return typeof t===Ut?t.replace(Mt,G):t}if("object"!=typeof exports)throw"Outside Node.js use //jsviews.com/download/jsrender.js";var Y,tt,et,nt,rt,it,ot,at,st,pt,lt,ct,dt,ut,ft,gt,ht,vt,mt,_t,xt,wt,bt="v1.0.12",yt="_ocp",Ct=/[ \t]*(\r\n|\n|\r)/g,kt=/\\(['"\\])/g,Tt=/['"\\]/g,jt=/(?:\x08|^)(onerror:)?(?:(~?)(([\w$.]+):)?([^\x08]+))\x08(,)?([^\x08]+)/gi,Ft=/^if\s/,$t=/<(\w+)[>\s]/,Pt=/[\x00`><"'&=]/g,At=/[\x00`><\"'&=]/,Nt=/^on[A-Z]|^convert(Back)?$/,Rt=/^\#\d+_`[\s\S]*\/\d+_`$/,Et=Pt,Vt=/[&<>]/g,Mt=/&(amp|gt|lt);/g,Ot=/\[['"]?|['"]?\]/g,St=0,It={"&":"&amp;","<":"&lt;",">":"&gt;","\0":"&#0;","'":"&#39;",'"':"&#34;","`":"&#96;","=":"&#61;"},Dt={amp:"&",gt:">",lt:"<"},Kt="html",Ut="string",qt="object",Jt="For #index in nested block use #getIndex().",Bt={},Lt={},Wt={template:{compile:j},tag:{compile:k},viewModel:{compile:P},helper:{},converter:{}};rt={jsviews:bt,sub:{rPath:/^(!*?)(?:null|true|false|\d[\d.]*|([\w$]+|\.|~([\w$]+)|#(view|([\w$]+))?)([\w$.^]*?)(?:[.[^]([\w$]+)\]?)?)$/g,rPrm:/(\()(?=\s*\()|(?:([([])\s*)?(?:(\^?)(~?[\w$.^]+)?\s*((\+\+|--)|\+|-|~(?![\w$])|&&|\|\||===|!==|==|!=|<=|>=|[<>%*:?\/]|(=))\s*|(!*?(@)?[#~]?[\w$.^]+)([([])?)|(,\s*)|(?:(\()\s*)?\\?(?:(')|("))|(?:\s*(([)\]])(?=[.^]|\s*$|[^([])|[)\]])([([]?))|(\s+)/g,View:y,Err:s,tmplFn:D,parse:J,extend:p,extendCtx:L,syntaxErr:I,onStore:{template:function(t,e){null===e?delete Lt[t]:t&&(Lt[t]=e)}},addSetting:R,settings:{allowCode:!1},advSet:o,_thp:r,_gm:n,_tg:function(){},_cnvt:v,_tag:b,_er:S,_err:O,_cp:i,_sq:function(t){return"constructor"===t&&I(""),t}},settings:{delimiters:l,advanced:function(t){return t?(p(ut,t),ct.advSet(),ft):ut}},map:E},(s.prototype=new Error).constructor=s,d.depends=function(){return[this.get("item"),"index"]},u.depends="index",y.prototype={get:c,getIndex:u,ctxPrm:g,getRsc:w,_getTmpl:h,_getOb:f,getCache:function(t){return dt._cchCt>this.cache._ct&&(this.cache={_ct:dt._cchCt}),void 0!==this.cache[t]?this.cache[t]:this.cache[t]=Bt[t](this.data,this,ct)},_is:"view"},ct=rt.sub,ft=rt.settings;for(tt in Wt)N(tt,Wt[tt]);st=rt.converters,pt=rt.helpers,lt=rt.tags,ct._tg.prototype={baseApply:T,cvtArgs:m,bndArgs:x,ctxPrm:g},nt=ct.topView=new y,Y={},Y.isFunction=function(t){return"function"==typeof t},Y.isArray=Array.isArray||function(t){return"[object Array]"==={}.toString.call(t)},Y.jsrender=bt,dt=ct.settings,dt.allowCode=!1,it=Y.isFunction,Y.render=Lt,Y.views=rt,Y.templates=at=rt.templates,Y.compile=function(t,e){return e=e||{},e.markup=t,at(e)};for(xt in dt)R(xt);(ft.debugMode=function(t){return void 0===t?dt.debugMode:(dt._clFns&&dt._clFns(),dt.debugMode=t,dt.onError=typeof t===Ut?function(){return t}:it(t)?t:void 0,ft)})(!1),ut=dt.advanced={cache:!0,useViews:!1,_jsv:!1},lt({"if":{render:function(t){var e=this,n=e.tagCtx,r=e.rendering.done||!t&&(n.args.length||!n.index)?"":(e.rendering.done=!0,void(e.selected=n.index));return r},contentCtx:!0,flow:!0},"for":{sortDataMap:E(Z),init:function(t,e){this.setDataMap(this.tagCtxs)},render:function(t){var e,n,r,i,o,a=this,s=a.tagCtx,p=s.argDefault===!1,l=s.props,c=p||s.args.length,d="",u=0;if(!a.rendering.done){if(e=c?t:s.view.data,p)for(p=l.reverse?"unshift":"push",i=+l.end,o=+l.step||1,e=[],r=+l.start||0;(i-r)*o>0;r+=o)e[p](r);void 0!==e&&(n=ot(e),d+=s.render(e,!c||l.noIteration),u+=n?e.length:1),(a.rendering.done=u)&&(a.selected=s.index)}return d},setDataMap:function(t){for(var e,n,r,i=this,o=t.length;o--;)e=t[o],n=e.props,r=e.params.props,e.argDefault=void 0===n.end||e.args.length>0,n.dataMap=e.argDefault!==!1&&ot(e.args[0])&&(r.sort||r.start||r.end||r.step||r.filter||r.reverse||n.sort||n.start||n.end||n.step||n.filter||n.reverse)&&i.sortDataMap},flow:!0},props:{baseTag:"for",dataMap:E(W),init:o,flow:!0},include:{flow:!0},"*":{render:i,flow:!0},":*":{render:i,flow:!0},dbg:pt.dbg=st.dbg=a}),st({html:H,attr:H,encode:Q,unencode:X,url:function(t){return void 0!=t?encodeURI(""+t):null===t?t:""}}),dt=ct.settings,ot=(Y||jsr).isArray,ft.delimiters("{{","}}","^");var Zt=require("fs"),zt=require("path"),Gt=zt.sep,Ht=zt.resolve("./");Ht.length+1;Y.renderFile=Y.__express=function(t,e,n,r){t="/"+Zt.realpathSync(t).split(Gt).slice(1).join("/"),"function"==typeof n&&(r=n,n=void 0);var i=at(t).render(e,n);return r&&r(null,i),i},rt.tags("clientTemplate",function(t){return'<script id="'+t+'" type="text/x-jsrender">'+at(t).markup+"</script>"}),module.exports=Y}(this);
//# sourceMappingURL=jsrender-node.min.js.map
