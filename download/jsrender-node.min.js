/*! JsRender v1.0.2: http://jsviews.com/#jsrender */
/*! **VERSION FOR NODE.JS** (For WEB see http://jsviews.com/download/jsrender.js) */
!function(t){"use strict";function e(t,e){return function(){var n,r=this,i=r.base;return r.base=t,n=e.apply(r,arguments),r.base=i,n}}function n(t,n){return it(n)&&(n=e(t?t._d?t:e(o,t):o,n),n._d=(t&&t._d||0)+1),n}function r(t,e){var r,i=e.props;for(r in i)!Vt.test(r)||t[r]&&t[r].fix||(t[r]="convert"!==r?n(t.constructor.prototype[r],i[r]):i[r])}function i(t){return t}function o(){return""}function s(t){try{throw console.log("JsRender dbg breakpoint: "+t),"dbg breakpoint"}catch(e){}return this.base?this.baseApply(arguments):t}function a(t){this.name=(Y.link?"JsViews":"JsRender")+" Error",this.message=t||this.name}function l(t,e){if(t){for(var n in e)t[n]=e[n];return t}}function p(t,e,n){return t?ot(t)?p.apply(rt,t):(_t=n?n[0]:_t,/^(\W|_){5}$/.test(t+e+_t)||I("Invalid delimiters"),gt=t[0],vt=t[1],ht=e[0],mt=e[1],ct.delimiters=[gt+vt,ht+mt,_t],t="\\"+gt+"(\\"+_t+")?\\"+vt,e="\\"+ht+"\\"+mt,et="(?:(\\w+(?=[\\/\\s\\"+ht+"]))|(\\w+)?(:)|(>)|(\\*))\\s*((?:[^\\"+ht+"]|\\"+ht+"(?!\\"+mt+"))*?)",dt.rTag="(?:"+et+")",et=new RegExp("(?:"+t+et+"(\\/)?|\\"+gt+"(\\"+_t+")?\\"+vt+"(?:(?:\\/(\\w+))\\s*|!--[\\s\\S]*?--))"+e,"g"),dt.rTmpl=new RegExp("^\\s|\\s$|<.*>|([^\\\\]|^)[{}]|"+t+".*"+e),ft):ct.delimiters}function d(t,e){e||t===!0||(e=t,t=void 0);var n,r,i,o,s=this,a="root"===e;if(t){if(o=e&&s.type===e&&s,!o)if(n=s.views,s._.useKey){for(r in n)if(o=e?n[r].get(t,e):n[r])break}else for(r=0,i=n.length;!o&&r<i;r++)o=e?n[r].get(t,e):n[r]}else if(a)o=s.root;else if(e)for(;s&&!o;)o=s.type===e?s:void 0,s=s.parent;else o=s.parent;return o||void 0}function c(){var t=this.get("item");return t?t.index:void 0}function u(){return this.index}function f(t,e,n,r){var i,s,a,l=0;if(1===n&&(r=1,n=void 0),e)for(s=e.split("."),a=s.length;t&&l<a;l++)i=t,t=s[l]?t[s[l]]:t;return n&&(n.lt=n.lt||l<a),void 0===t?r?o:"":r?function(){return t.apply(i,arguments)}:t}function g(e,n,r){var i,o,s,a,p,d,c,u=this,f=!bt&&arguments.length>1,g=u.ctx;if(e){if(u._||(p=u.index,u=u.tag),d=u,g&&g.hasOwnProperty(e)||(g=lt).hasOwnProperty(e)){if(s=g[e],"tag"===e||"tagCtx"===e||"root"===e||"parentTags"===e||u._.it===e)return s}else g=void 0;if((!bt&&u.tagCtx||u.linked)&&(s&&s._cxp||(u=u.tagCtx||it(s)?u:(u=u.scope||u,!u.isTop&&u.ctx.tag||u),void 0!==s&&u.tagCtx&&(u=u.tagCtx.view.scope),g=u._ocps,s=g&&g.hasOwnProperty(e)&&g[e]||s,s&&s._cxp||!r&&!f||((g||(u._ocps=u._ocps||{}))[e]=s=[{_ocp:s,_vw:d,_key:e}],s._cxp={path:yt,ind:0,updateValue:function(t,e){return Y.observable(s[0]).setProperty(yt,t),this}})),a=s&&s._cxp)){if(arguments.length>2)return o=s[1]?dt._ceo(s[1].deps):[yt],o.unshift(s[0]),o._cxp=a,o;if(p=a.tagElse,c=s[1]?a.tag&&a.tag.cvtArgs?a.tag.cvtArgs(p,1)[a.ind]:s[1](s[0].data,s[0],dt):s[0]._ocp,f)return s&&c!==n&&dt._ucp(e,n,u,a),u;s=c}return s&&it(s)&&(i=function(){return s.apply(this&&this!==t?this:d,arguments)},l(i,s)),i||s}}function v(t){return t&&(t.fn?t:this.getRsc("templates",t)||st(t))}function h(t,e,n,i){var o,s,a,p,d,c="number"==typeof n&&e.tmpl.bnds[n-1];if(void 0===i&&c&&c._lr&&(i=""),void 0!==i?n=i={props:{},args:[i]}:c&&(n=c(e.data,e,dt)),c=c._bd&&c,t||c){if(s=e._lc,o=s&&s.tag,n.view=e,!o){if(o=l(new dt._tg,{_:{bnd:c,unlinked:!0,lt:n.lt},inline:!s,tagName:":",convert:t,flow:!0,tagCtx:n,tagCtxs:[n],_is:"tag"}),p=n.args.length,p>1)for(d=o.bindTo=[];p--;)d.unshift(p);s&&(s.tag=o,o.linkCtx=s),n.ctx=L(n.ctx,(s?s.view:e).ctx),r(o,n)}o._er=i&&a,o.ctx=n.ctx||o.ctx||{},n.ctx=void 0,a=o.cvtArgs()[0],o._er=i&&a}else a=n.args[0];return a=c&&e._.onRender?e._.onRender(a,e,o):a,void 0!=a?a:""}function m(t,e){var n,r,i,o,s,a,l,p=this;if(p.tagName){if(a=p,p=(a.tagCtxs||[p])[t||0],!p)return}else a=p.tag;if(s=a.bindFrom,o=p.args,(l=a.convert)&&""+l===l&&(l="true"===l?void 0:p.view.getRsc("converters",l)||I("Unknown converter: '"+l+"'")),l&&!e&&(o=o.slice()),s){for(i=[],n=s.length;n--;)r=s[n],i.unshift(_(p,r));e&&(o=i)}if(l){if(l=l.apply(a,i||o),void 0===l)return o;if(s=s||[0],n=s.length,ot(l)&&l.length===n||(l=[l],s=[0],n=1),e)o=l;else for(;n--;)r=s[n],+r===r&&(o[r]=l[n])}return o}function _(t,e){return t=t[+e===e?"args":"props"],t&&t[e]}function x(t){return this.cvtArgs(t,1)}function b(t,e){var n,r,i=this;if(""+e===e){for(;void 0===n&&i;)r=i.tmpl&&i.tmpl[t],n=r&&r[e],i=i.parent;return n||rt[t][e]}}function w(t,e,n,i,o,s){function a(t){var e=l[t];if(void 0!==e)for(e=ot(e)?e:[e],h=e.length;h--;)U=e[h],isNaN(parseInt(U))||(e[h]=parseInt(U));return e||[0]}e=e||nt;var l,p,d,c,u,f,v,h,b,w,y,k,C,T,j,F,A,N,$,V,E,P,O,S,D,U,J,K,q,B,W=0,Z="",z=e._lc||!1,G=e.ctx,H=n||e.tmpl,Q="number"==typeof i&&e.tmpl.bnds[i-1];for("tag"===t._is?(l=t,t=l.tagName,i=l.tagCtxs,d=l.template):(p=e.getRsc("tags",t)||I("Unknown tag: {{"+t+"}} "),d=p.template),void 0===s&&Q&&(Q._lr=p.lateRender&&Q._lr!==!1||Q._lr)&&(s=""),void 0!==s?(Z+=s,i=s=[{props:{},args:[],params:{props:{}}}]):Q&&(i=Q(e.data,e,dt)),v=i.length;W<v;W++)y=i[W],A=y.tmpl,(!z||!z.tag||W&&!z.tag.inline||l._er||A&&+A===A)&&(A&&H.tmpls&&(y.tmpl=y.content=H.tmpls[A-1]),y.index=W,y.ctxPrm=g,y.render=R,y.cvtArgs=m,y.bndArgs=x,y.view=e,y.ctx=L(L(y.ctx,p&&p.ctx),G)),(n=y.props.tmpl)&&(y.tmpl=e._getTmpl(n),y.content=y.content||y.tmpl),l?z&&z.fn._lr&&(N=!!l.init):(l=new p._ctr,N=!!l.init,l.parent=f=G&&G.tag,l.tagCtxs=i,z&&(l.inline=!1,z.tag=l),l.linkCtx=z,(l._.bnd=Q||z.fn)?(l._.ths=y.params.props["this"],l._.lt=i.lt,l._.arrVws={}):l.dataBoundOnly&&I(t+" must be data-bound:\n{^{"+t+"}}")),S=l.dataMap,y.tag=l,S&&i&&(y.map=i[W].map),l.flow||(k=y.ctx=y.ctx||{},c=l.parents=k.parentTags=G&&L(k.parentTags,G.parentTags)||{},f&&(c[f.tagName]=f),c[l.tagName]=k.tag=l,k.tagCtx=y);if(!(l._er=s)){for(r(l,i[0]),l.rendering={rndr:l.rendering},W=0;W<v;W++){if(y=l.tagCtx=i[W],O=y.props,l.ctx=y.ctx,!W){if(N&&(l.init(y,z,l.ctx),N=void 0),y.args.length||y.argDefault===!1||l.argDefault===!1||(y.args=E=[y.view.data],y.params.args=["#data"]),T=a("bindTo"),void 0!==l.bindTo&&(l.bindTo=T),void 0!==l.bindFrom?l.bindFrom=a("bindFrom"):l.bindTo&&(l.bindFrom=l.bindTo=T),j=l.bindFrom||T,K=T.length,J=j.length,l._.bnd&&(q=l.linkedElement)&&(l.linkedElement=q=ot(q)?q:[q],K!==q.length&&I("linkedElement not same length as bindTo")),(q=l.linkedCtxParam)&&(l.linkedCtxParam=q=ot(q)?q:[q],J!==q.length&&I("linkedCtxParam not same length as bindFrom/bindTo")),j)for(l._.fromIndex={},l._.toIndex={},b=J;b--;)for(U=j[b],h=K;h--;)U===T[h]&&(l._.fromIndex[h]=b,l._.toIndex[b]=h);z&&(z.attr=l.attr=z.attr||l.attr||z._dfAt),u=l.attr,l._.noVws=u&&u!==Ut}if(E=l.cvtArgs(W),l.linkedCtxParam)for(P=l.cvtArgs(W,1),h=J,B=l.constructor.prototype.ctx;h--;)(C=l.linkedCtxParam[h])&&(U=j[h],F=P[h],y.ctx[C]=dt._cp(B&&void 0===F?B[C]:F,void 0!==F&&_(y.params,U),y.view,l._.bnd&&{tag:l,cvt:l.convert,ind:h,tagElse:W}));($=O.dataMap||S)&&(E.length||O.dataMap)&&(V=y.map,V&&V.src===E[0]&&!o||(V&&V.src&&V.unmap(),$.map(E[0],y,V,!l._.bnd),V=y.map),E=[V.tgt]),w=void 0,l.render&&(w=l.render.apply(l,E),e.linked&&w&&!Et.test(w)&&(n={links:[]},n.render=n.fn=function(){return w},w=M(n,e.data,void 0,!0,e,void 0,void 0,l))),E.length||(E=[e]),void 0===w&&(D=E[0],l.contentCtx&&(D=l.contentCtx===!0?e:l.contentCtx(D)),w=y.render(D,!0)||(o?void 0:"")),Z=Z?Z+(w||""):void 0!==w?""+w:void 0}l.rendering=l.rendering.rndr}return l.tagCtx=i[0],l.ctx=l.tagCtx.ctx,l._.noVws&&l.inline&&(Z="text"===u?at.html(Z):""),Q&&e._.onRender?e._.onRender(Z,e,l):Z}function y(t,e,n,r,i,o,s,a){var l,p,d,u=this,f="array"===e;u.content=a,u.views=f?[]:{},u.data=r,u.tmpl=i,d=u._={key:0,useKey:f?0:1,id:""+It++,onRender:s,bnds:{}},u.linked=!!s,u.type=e||"top",(u.parent=n)?(u.root=n.root||u,l=n.views,p=n._,u.isTop=p.scp,u.scope=(!t.tag||t.tag===n.ctx.tag)&&!u.isTop&&n.scope||u,p.useKey?(l[d.key="_"+p.useKey++]=u,u.index=Kt,u.getIndex=c):l.length===(d.key=u.index=o)?l.push(u):l.splice(o,0,u),u.ctx=t||n.ctx):u.ctx=t||{}}function k(t){var e,n,r;for(e in Bt)n=e+"s",t[n]&&(r=t[n],t[n]={},rt[n](r,t))}function C(t,e,r){function i(){var e=this;e._={unlinked:!0},e.inline=!0,e.tagName=t}var o,s,a,p=new dt._tg;if(it(e)?e={depends:e.depends,render:e}:""+e===e&&(e={template:e}),s=e.baseTag){e.flow=!!e.flow,s=""+s===s?r&&r.tags[s]||pt[s]:s,s||I('baseTag: "'+e.baseTag+'" not found'),p=l(p,s);for(a in e)p[a]=n(s[a],e[a])}else p=l(p,e);return void 0!==(o=p.template)&&(p.template=""+o===o?st[o]||st(o):o),(i.prototype=p).constructor=p._ctr=i,r&&(p._parentTmpl=r),p}function T(t){return this.base.apply(this,t)}function j(t,e,n,r){function i(e){var i;if(""+e===e||e.nodeType>0&&(o=e)){if(!o&&/^\.\/[^\\:*?"<>]*$/.test(e))if(i=st[t=t||e])e=i;else{try{e=Lt.readFileSync(e,"utf8")}catch(s){s&&"ENOENT"==s.code&&I("Template '"+e+"' not found at '"+s.path+"'. Use path relative to '"+zt+"'.")}e=j(t,e.replace(/^\uFEFF/,""),n,r),r||(st[t]=e)}o=void 0}else e.fn||(e=void 0);return e}var o,s,a=e=e||"";if(dt._html=at.html,0===r&&(r=void 0,a=i(a)),r=r||(e.markup?e.bnds?l({},e):e:{}),r.tmplName=r.tmplName||t||"unnamed",n&&(r._parentTmpl=n),!a&&e.markup&&(a=i(e.markup))&&a.fn&&(a=a.markup),void 0!==a)return a.render||e.render?a.tmpls&&(s=a):(e=$(a,r),D(a.replace(Tt,"\\$&"),e)),s||(s=l(function(){return s.render.apply(s,arguments)},e),k(s)),s}function F(t,e){return it(t)?t.call(e):t}function A(t){for(var e=[],n=0,r=t.length;n<r;n++)e.push(t[n].unmap());return e}function N(t,e){function n(t){p.apply(this,t)}function r(){return new n(arguments)}function i(t,e){for(var n,r,i,o,s=0;s<m;s++)i=c[s],n=void 0,i+""!==i&&(n=i,i=n.getter),void 0===(o=t[i])&&n&&void 0!==(r=n.defaultVal)&&(o=F(r,t)),e(o,n&&d[n.type],i)}function o(e){e=e+""===e?JSON.parse(e):e;var n,r,o=0,l=e,p=[];if(ot(e)){for(e=e||[],n=e.length;o<n;o++)p.push(this.map(e[o]));return p._is=t,p.unmap=a,p.merge=s,p}if(e){i(e,function(t,e){e&&(t=e.map(t)),p.push(t)}),l=this.apply(this,p);for(r in e)x[r]||(l[r]=e[r])}return l}function s(t){t=t+""===t?JSON.parse(t):t;var e,n,o,s,a,l,p,d,c,u=0,g=this;if(ot(g)){for(p={},c=[],n=t.length,o=g.length;u<n;u++){for(d=t[u],l=!1,e=0;e<o&&!l;e++)p[e]||(a=g[e],f&&(p[e]=l=f+""===f?d[f]&&(x[f]?a[f]():a[f])===d[f]:f(a,d)));l?(a.merge(d),c.push(a)):c.push(r.map(d))}return void(_?_(g).refresh(c,!0):g.splice.apply(g,[0,g.length].concat(c)))}i(t,function(t,e,n){e?g[n]().merge(t):g[n](t)});for(s in t)x[s]||(g[s]=t[s])}function a(){var t,e,n,r,i=0,o=this;if(ot(o))return A(o);for(t={};i<m;i++)e=c[i],n=void 0,e+""!==e&&(n=e,e=n.getter),r=o[e](),t[e]=n&&r&&d[n.type]?ot(r)?A(r):r.unmap():r;for(e in o)"_is"===e||x[e]||"_"===e.charAt(0)&&x[e.slice(1)]||it(o[e])||(t[e]=o[e]);return t}var l,p,d=this,c=e.getters,u=e.extend,f=e.id,g=Y.extend({_is:t||"unnamed",unmap:a,merge:s},u),v="",h="",m=c?c.length:0,_=Y.observable,x={};for(n.prototype=g,l=0;l<m;l++)!function(t){t=t.getter||t,x[t]=l+1;var e="_"+t;v+=(v?",":"")+t,h+="this."+e+" = "+t+";\n",g[t]=g[t]||function(n){return arguments.length?void(_?_(this).setProperty(t,n):this[e]=n):this[e]},_&&(g[t].set=g[t].set||function(t){this[e]=t})}(c[l]);return p=new Function(v,h.slice(0,-1)),p.prototype=g,g.constructor=p,r.map=o,r.getters=c,r.extend=u,r.id=f,r}function $(t,e){var n,r=ut._wm||{},i={tmpls:[],links:{},bnds:[],_is:"template",render:R};return e&&(i=l(i,e)),i.markup=t,i.htmlTag||(n=At.exec(t),i.htmlTag=n?n[1].toLowerCase():""),n=r[i.htmlTag],n&&n!==r.div&&(i.markup=Y.trim(i.markup)),i}function V(t,e){function n(i,o,s){var a,l,p,d=dt.onStore[t];if(i&&typeof i===Jt&&!i.nodeType&&!i.markup&&!i.getTgt&&!("viewModel"===t&&i.getters||i.extend)){for(l in i)n(l,i[l],o);return o||rt}return i&&""+i!==i&&(s=o,o=i,i=void 0),p=s?"viewModel"===t?s:s[r]=s[r]||{}:n,a=e.compile,void 0===o&&(o=a?i:p[i],i=void 0),null===o?i&&delete p[i]:(a&&(o=a.call(p,i,o,s,0)||{},o._is=t),i&&(p[i]=o)),d&&d(i,o,s,a),o}var r=t+"s";rt[r]=n}function E(t){ft[t]=function(e){return arguments.length?(ct[t]=e,ft):ct[t]}}function P(t){function e(e,n){this.tgt=t.getTgt(e,n),n.map=this}return it(t)&&(t={getTgt:t}),t.baseMap&&(t=l(l({},t.baseMap),t)),t.map=function(t,n){return new e(t,n)},t}function R(t,e,n,r,i,o){var s,a,l,p,d,c,u,f,g=r,v="";if(e===!0?(n=e,e=void 0):typeof e!==Jt&&(e=void 0),(l=this.tag)?(d=this,g=g||d.view,p=g._getTmpl(l.template||d.tmpl),arguments.length||(t=l.contentCtx&&it(l.contentCtx)?t=l.contentCtx(t):g)):p=this,p){if(!r&&t&&"view"===t._is&&(g=t),g&&t===g&&(t=g.data),c=!g,bt=bt||c,g||((e=e||{}).root=t),!bt||ut.useViews||p.useViews||g&&g!==nt)v=M(p,t,e,n,g,i,o,l);else{if(g?(u=g.data,f=g.index,g.index=Kt):(g=nt,u=g.data,g.data=t,g.ctx=e),ot(t)&&!n)for(s=0,a=t.length;s<a;s++)g.index=s,g.data=t[s],v+=p.fn(t[s],g,dt);else g.data=t,v+=p.fn(t,g,dt);g.data=u,g.index=f}c&&(bt=void 0)}return v}function M(t,e,n,r,i,o,s,a){function p(t){b=l({},n),b[x]=t}var d,c,u,f,g,v,h,m,_,x,b,w,k,C="";if(a&&(_=a.tagName,w=a.tagCtx,n=n?L(n,a.ctx):a.ctx,t===i.content?h=t!==i.ctx._wrp?i.ctx._wrp:void 0:t!==w.content?t===a.template?(h=w.tmpl,n._wrp=w.content):h=w.content||i.content:h=i.content,w.props.link===!1&&(n=n||{},n.link=!1),(x=w.props.itemVar)&&("~"!==x[0]&&S("Use itemVar='~myItem'"),x=x.slice(1))),i&&(s=s||i._.onRender,k=n&&n.link===!1,k&&i._.nl&&(s=void 0),n=L(n,i.ctx)),o===!0&&(v=!0,o=0),s&&a&&a._.noVws&&(s=void 0),m=s,s===!0&&(m=void 0,s=i._.onRender),n=t.helpers?L(t.helpers,n):n,b=n,ot(e)&&!r)for(u=v?i:void 0!==o&&i||new y(n,"array",i,e,t,o,s,h),u._.nl=k,i&&i._.useKey&&(u._.bnd=!a||a._.bnd&&a,u.tag=a),d=0,c=e.length;d<c;d++)x&&p(e[d]),f=new y(b,"item",u,e[d],t,(o||0)+d,s,u.content),f._.it=x,g=t.fn(e[d],f,dt),C+=u._.onRender?u._.onRender(g,f):g;else x&&p(e),u=v?i:new y(b,_||"data",i,e,t,o,s,h),u._.it=x,u.tag=a,u._.nl=k,C+=t.fn(e,u,dt);return a&&(u.tagElse=w.index,w.contentView=u),m?m(C,u):C}function O(t,e,n){var r=void 0!==n?it(n)?n.call(e.data,t,e):n||"":"{Error: "+(t.message||t)+"}";return ct.onError&&void 0!==(n=ct.onError.call(e.data,t,n&&r,e))&&(r=n),e&&!e._lc?at.html(r):r}function I(t){throw new dt.Err(t)}function S(t){I("Syntax error\n"+t)}function D(t,e,n,r,i){function o(e){e-=v,e&&m.push(t.substr(v,e).replace(kt,"\\n"))}function s(e,n){e&&(e+="}}",S((n?"{{"+n+"}} block has {{/"+e+" without {{"+e:"Unmatched or missing {{/"+e)+", in template:\n"+t))}function a(a,l,p,u,g,x,b,w,y,k,C,T){(b&&l||y&&!p||w&&":"===w.slice(-1)||k)&&S(a),x&&(g=":",u=Ut),y=y||n&&!i;var j,F,A,N=(l||n)&&[[]],$="",V="",E="",P="",R="",M="",O="",I="",D=!y&&!g;p=p||(w=w||"#data",g),o(T),v=T+a.length,b?f&&m.push(["*","\n"+w.replace(/^:/,"ret+= ").replace(Ct,"$1")+";\n"]):p?("else"===p&&(Ft.test(w)&&S('For "{{else if expr}}" use "{{else expr}}"'),N=_[9]&&[[]],_[10]=t.substring(_[10],T),F=_[11]||_[0]||S("Mismatched: "+a),_=h.pop(),m=_[2],D=!0),w&&q(w.replace(kt," "),N,e,n).replace(jt,function(t,e,n,r,i,o,s,a){return"this:"===r&&(o="undefined"),a&&(A=A||"@"===a[0]),r="'"+i+"':",s?(V+=n+o+",",P+="'"+a+"',"):n?(E+=r+"j._cp("+o+',"'+a+'",view),',M+=r+"'"+a+"',"):e?O+=o:("trigger"===i&&(I+=o),"lateRender"===i&&(j="false"!==a),$+=r+o+",",R+=r+"'"+a+"',",c=c||Vt.test(i)),""}).slice(0,-1),N&&N[0]&&N.pop(),d=[p,u||!!r||c||"",D&&[],J(P||(":"===p?"'#data',":""),R,M),J(V||(":"===p?"data,":""),$,E),O,I,j,A,N||0],m.push(d),D&&(h.push(_),_=d,_[10]=v,_[11]=F)):C&&(s(C!==_[0]&&C!==_[11]&&C,_[0]),_[10]=t.substring(_[10],T),_=h.pop()),s(!_&&C),m=_[2]}var l,p,d,c,u,f=ct.allowCode||e&&e.allowCode||ft.allowCode===!0,g=[],v=0,h=[],m=g,_=[,,g];if(f&&e._is&&(e.allowCode=f),n&&(void 0!==r&&(t=t.slice(0,-r.length-2)+ht),t=gt+t+mt),s(h[0]&&h[0][2].pop()[0]),t.replace(et,a),o(t.length),(v=g[g.length-1])&&s(""+v!==v&&+v[10]===v[10]&&v[0]),n){for(p=B(g,t,n),u=[],l=g.length;l--;)u.unshift(g[l][9]);U(p,u)}else p=B(g,e);return p}function U(t,e){var n,r,i=0,o=e.length;for(t.deps=[],t.paths=[];i<o;i++){t.paths.push(r=e[i]);for(n in r)"_jsvto"!==n&&r.hasOwnProperty(n)&&r[n].length&&!r[n].skp&&(t.deps=t.deps.concat(r[n]))}}function J(t,e,n){return[t.slice(0,-1),e.slice(0,-1),n.slice(0,-1)]}function K(t,e){return"\n\t"+(e?e+":{":"")+"args:["+t[0]+"],\n\tprops:{"+t[1]+"}"+(t[2]?",\n\tctx:{"+t[2]+"}":"")}function q(t,e,n,r){function i(i,d,x,b,w,y,k,C,T,j,F,A,N,$,V,E,P,R,M,O,I){function U(t,n,i,a,l,p,d,f){var g="."===i;if(i&&(w=w.slice(n.length),/^\.?constructor$/.test(f||w)&&S(t),g||(t=(j?(r?"":"(ltOb.lt=ltOb.lt||")+"(ob=":"")+(a?'view.ctxPrm("'+a+'")':l?"view":"data")+(j?")===undefined"+(r?"":")")+'?"":view._getOb(ob,"':"")+(f?(p?"."+p:a?"":l?"":"."+i)+(d||""):(f=a?"":l?p||"":i,"")),t+=f?"."+f:"",t=n+("view.data"===t.slice(0,9)?t.slice(5):t)+(j?(r?'"':'",ltOb')+(F?",1)":")"):"")),c)){if(q="_linkTo"===o?s=e._jsvto=e._jsvto||[]:u.bd,B=g&&q[q.length-1]){if(B._cpfn){for(;B.sb;)B=B.sb;B.bnd&&(w="^"+w.slice(1)),B.sb=w,B.bnd=B.bnd||"^"===w[0]}}else q.push(w);_[h]=O+(g?1:0)}return t}b&&!C&&(w=b+w),y=y||"",x=x||d||N,w=w||T,j&&(j=!/\)|]/.test(I[O-1]))&&(w=w.slice(1).split(".").join("^")),F=F||R||"";var J,K,q,B,L,W=")";if("["===F&&(F="[j._sq(",W=")]"),!k||p||l){if(c&&P&&!p&&!l&&h&&(J=_[h-1],I.length-1>O-(J||0))){if(J=I.slice(J,O+i.length),K!==!0)if(q=s||f[h-1].bd,B=q[q.length-1],B&&B.prm){for(;B.sb&&B.sb.prm;)B=B.sb;L=B.sb={path:B.sb,bnd:B.bnd}}else q.push(L={path:q.pop()});P=vt+":"+J+" onerror=''"+ht,K=v[P],K||(v[P]=!0,v[P]=K=D(P,n,!0)),K!==!0&&L&&(L._cpfn=K,L.prm=u.bd,L.bnd=L.bnd||L.path&&L.path.indexOf("^")>=0)}return p?(p=!$,p?i:N+'"'):l?(l=!V,l?i:N+'"'):(x?(_[h]=O++,u=f[++h]={bd:[]},x):"")+(M?h?"":(g=I.slice(g,O),(o?(o=a=s=!1,"\b"):"\b,")+g+(g=O+i.length,c&&e.push(u.bd=[]),"\b")):C?(h&&S(t),c&&e.pop(),o="_"+w,a=b,g=O+i.length,c&&(c=u.bd=e[o]=[],c.skp=!b),w+":"):w?w.split("^").join(".").replace(dt.rPath,U)+(F?(u=f[++h]={bd:[]},m[h]=W,F):y):y?y:E?(E=m[h]||E,m[h]=!1,u=f[--h],E+(F?(u=f[++h],m[h]=W,F):"")):A?(m[h]||S(t),","):d?"":(p=$,l=V,'"'))}S(t)}var o,s,a,l,p,d,c=e&&e[0],u={bd:c},f={0:u},g=0,v=(n?n.links:c&&(c.links=c.links||{}))||nt.tmpl.links,h=0,m={},_={};return"@"===t[0]&&(t=t.replace(Ot,".")),d=(t+(n?" ":"")).replace(dt.rPrm,i),!h&&d||S(t)}function B(t,e,n){var r,i,o,s,a,l,p,d,c,u,f,g,v,h,m,_,x,b,w,y,k,C,T,j,F,A,N,V,E,P,R,M,O,I=0,D=ut.useViews||e.useViews||e.tags||e.templates||e.helpers||e.converters,J="",q={},L=t.length;for(""+e===e?(b=n?'data-link="'+e.replace(kt," ").slice(1,-1)+'"':e,e=0):(b=e.tmplName||"unnamed",e.allowCode&&(q.allowCode=!0),e.debug&&(q.debug=!0),f=e.bnds,x=e.tmpls),r=0;r<L;r++)if(i=t[r],""+i===i)J+='\n+"'+i+'"';else if(o=i[0],"*"===o)J+=";\n"+i[1]+"\nret=ret";else{s=i[1],k=!n&&i[2],a=K(i[3],"params")+"},"+K(v=i[4]);var W=v[1];if(W&&/^'tmpl':"\.\/[^\:*?"<>]*"$/.test(W)&&(e.refs=e.refs||{},e.refs[W.slice(8,-1)]=1),P=i[6],R=i[7],i[8]?(M="\nvar ob,ltOb={},ctxs=",O=";\nctxs.lt=ltOb.lt;\nreturn ctxs;"):(M="\nreturn ",O=""),C=i[10]&&i[10].replace(Ct,"$1"),(F="else"===o)?g&&g.push(i[9]):(V=i[5]||ct.debugMode!==!1&&"undefined",f&&(g=i[9])&&(g=[g],I=f.push(1))),D=D||v[1]||v[2]||g||/view.(?!index)/.test(v[0]),(A=":"===o)?s&&(o=s===Ut?">":s+o):(k&&(w=$(C,q),w.tmplName=b+"/"+o,w.useViews=w.useViews||D,B(k,w),D=w.useViews,x.push(w)),F||(y=o,D=D||o&&(!pt[o]||!pt[o].flow),j=J,J=""),T=t[r+1],T=T&&"else"===T[0]),E=V?";\ntry{\nret+=":"\n+",h="",m="",A&&(g||P||s&&s!==Ut||R)){if(N=new Function("data,view,j,u","// "+b+" "+ ++I+" "+o+M+"{"+a+"};"+O),N._er=V,N._tag=o,N._bd=!!g,N._lr=R,n)return N;U(N,g),_='c("'+s+'",view,',u=!0,h=_+I+",",m=")"}if(J+=A?(n?(V?"try{\n":"")+"return ":E)+(u?(u=void 0,D=c=!0,_+(N?(f[I-1]=N,I):"{"+a+"}")+")"):">"===o?(p=!0,"h("+v[0]+")"):(d=!0,"((v="+v[0]+")!=null?v:"+(n?"null)":'"")'))):(l=!0,"\n{view:view,content:false,tmpl:"+(k?x.length:"false")+","+a+"},"),y&&!T){if(J="["+J.slice(0,-1)+"]",_='t("'+y+'",view,this,',n||g){if(J=new Function("data,view,j,u"," // "+b+" "+I+" "+y+M+J+O),J._er=V,J._tag=y,g&&U(f[I-1]=J,g),J._lr=R,n)return J;h=_+I+",undefined,",m=")"}J=j+E+_+(g&&I||J)+")",g=0,y=0}V&&!T&&(D=!0,J+=";\n}catch(e){ret"+(n?"urn ":"+=")+h+"j._err(e,view,"+V+")"+m+";}"+(n?"":"ret=ret"))}J="// "+b+(q.debug?"\ndebugger;":"")+"\nvar v"+(l?",t=j._tag":"")+(c?",c=j._cnvt":"")+(p?",h=j._html":"")+(n?(i[8]?", ob":"")+";\n":',ret=""')+J+(n?"\n":";\nreturn ret;");try{J=new Function("data,view,j,u",J)}catch(Z){S("Compiled template code:\n\n"+J+'\n: "'+(Z.message||Z)+'"')}return e&&(e.fn=J,e.useViews=!!D),J}function L(t,e){return t&&t!==e?e?l(l({},e),t):t:e&&l({},e)}function W(t,e){var n,r,i=e.map,o=i&&i.propsArr;if(!o){if(o=[],typeof t===Jt||it(t))for(n in t)r=t[n],n===Y.expando||!t.hasOwnProperty(n)||e.props.noFunctions&&Y.isFunction(r)||o.push({key:n,prop:r});i&&(i.propsArr=i.options&&o)}return Z(o,e)}function Z(t,e){var n,r,i,o=e.tag,s=e.props,a=e.params.props,l=s.filter,p=s.sort,d=p===!0,c=parseInt(s.step),u=s.reverse?-1:1;if(!ot(t))return t;if(d||p&&""+p===p?(n=t.map(function(t,e){return t=d?t:f(t,p),{i:e,v:""+t===t?t.toLowerCase():t}}),n.sort(function(t,e){return t.v>e.v?u:t.v<e.v?-u:0}),t=n.map(function(e){return t[e.i]})):(p||u<0)&&!o.dataMap&&(t=t.slice()),it(p)&&(t=t.sort(function(){return p.apply(e,arguments)})),u<0&&(!p||it(p))&&(t=t.reverse()),t.filter&&l&&(t=t.filter(l,e),e.tag.onFilter&&e.tag.onFilter(e)),a.sorted&&(n=p||u<0?t:t.slice(),o.sorted?Y.observable(o.sorted).refresh(n):e.map.sorted=n),r=s.start,i=s.end,(a.start&&void 0===r||a.end&&void 0===i)&&(r=i=0),isNaN(r)&&isNaN(i)||(r=+r||0,i=void 0===i||i>t.length?t.length:+i,t=t.slice(r,i)),c>1){for(r=0,i=t.length,n=[];r<i;r+=c)n.push(t[r]);t=n}return a.paged&&o.paged&&$observable(o.paged).refresh(t),t}function z(t){return St[t]||(St[t]="&#"+t.charCodeAt(0)+";")}function G(t,e){return Dt[e]||""}function H(t){return void 0!=t?$t.test(t)&&(""+t).replace(Pt,z)||t:""}function Q(t){return""+t===t?t.replace(Rt,z):t}function X(t){return""+t===t?t.replace(Mt,G):t}if("object"!=typeof exports)throw"Outside Node.js use //jsviews.com/download/jsrender.js";var Y,tt,et,nt,rt,it,ot,st,at,lt,pt,dt,ct,ut,ft,gt,vt,ht,mt,_t,xt,bt,wt="v1.0.2",yt="_ocp",kt=/[ \t]*(\r\n|\n|\r)/g,Ct=/\\(['"])/g,Tt=/['"\\]/g,jt=/(?:\x08|^)(onerror:)?(?:(~?)(([\w$.]+):)?([^\x08]+))\x08(,)?([^\x08]+)/gi,Ft=/^if\s/,At=/<(\w+)[>\s]/,Nt=/[\x00`><"'&=]/g,$t=/[\x00`><\"'&=]/,Vt=/^on[A-Z]|^convert(Back)?$/,Et=/^\#\d+_`[\s\S]*\/\d+_`$/,Pt=Nt,Rt=/[&<>]/g,Mt=/&(amp|gt|lt);/g,Ot=/\[['"]?|['"]?\]/g,It=0,St={"&":"&amp;","<":"&lt;",">":"&gt;","\0":"&#0;","'":"&#39;",'"':"&#34;","`":"&#96;","=":"&#61;"},Dt={amp:"&",gt:">",lt:"<"},Ut="html",Jt="object",Kt="For #index in nested block use #getIndex().",qt={},Bt={template:{compile:j},tag:{compile:C},viewModel:{compile:N},helper:{},converter:{}};rt={jsviews:wt,sub:{rPath:/^(!*?)(?:null|true|false|\d[\d.]*|([\w$]+|\.|~([\w$]+)|#(view|([\w$]+))?)([\w$.^]*?)(?:[.[^]([\w$]+)\]?)?)$/g,rPrm:/(\()(?=\s*\()|(?:([([])\s*)?(?:(\^?)(~?[\w$.^]+)?\s*((\+\+|--)|\+|-|~(?![\w$])|&&|\|\||===|!==|==|!=|<=|>=|[<>%*:?\/]|(=))\s*|(!*?(@)?[#~]?[\w$.^]+)([([])?)|(,\s*)|(\(?)\\?(?:(')|("))|(?:\s*(([)\]])(?=[.^]|\s*$|[^([])|[)\]])([([]?))|(\s+)/g,View:y,Err:a,tmplFn:D,parse:q,extend:l,extendCtx:L,syntaxErr:S,onStore:{template:function(t,e){null===e?delete qt[t]:t&&(qt[t]=e)}},addSetting:E,settings:{allowCode:!1},advSet:o,_thp:r,_gm:n,_tg:function(){},_cnvt:h,_tag:w,_er:I,_err:O,_cp:i,_sq:function(t){return"constructor"===t&&S(""),t}},settings:{delimiters:p,advanced:function(t){return t?(l(ut,t),dt.advSet(),ft):ut}},map:P},(a.prototype=new Error).constructor=a,c.depends=function(){return[this.get("item"),"index"]},u.depends="index",y.prototype={get:d,getIndex:u,ctxPrm:g,getRsc:b,_getTmpl:v,_getOb:f,_is:"view"},dt=rt.sub,ft=rt.settings;for(tt in Bt)V(tt,Bt[tt]);at=rt.converters,lt=rt.helpers,pt=rt.tags,dt._tg.prototype={baseApply:T,cvtArgs:m,bndArgs:x,ctxPrm:g},nt=dt.topView=new y,Y={},Y.isFunction=function(t){return"function"==typeof t},Y.isArray=Array.isArray||function(t){return"[object Array]"==={}.toString.call(t)},Y.jsrender=wt,ct=dt.settings,ct.allowCode=!1,it=Y.isFunction,Y.render=qt,Y.views=rt,Y.templates=st=rt.templates,Y.compile=function(t,e){return e=e||{},e.markup=t,st(e)};for(xt in ct)E(xt);(ft.debugMode=function(t){return void 0===t?ct.debugMode:(ct.debugMode=t,ct.onError=t+""===t?function(){return t}:it(t)?t:void 0,ft)})(!1),ut=ct.advanced={useViews:!1,_jsv:!1},pt({"if":{render:function(t){var e=this,n=e.tagCtx,r=e.rendering.done||!t&&(n.args.length||!n.index)?"":(e.rendering.done=!0,void(e.selected=n.index));return r},contentCtx:!0,flow:!0},"for":{sortDataMap:P(Z),init:function(t,e){var n,r,i,o=this,s=o.tagCtxs;for(n=s.length;n--;)r=s[n],i=r.params.props,r.argDefault=void 0===r.props.end||r.args.length>0,r.argDefault!==!1&&ot(r.args[0])&&(void 0!==i.sort||i.start||i.end||i.step||i.filter||i.reverse)&&(r.props.dataMap=o.sortDataMap)},render:function(t){var e,n,r,i,o,s=this,a=s.tagCtx,l=a.argDefault===!1,p=a.props,d=l||a.args.length,c="",u=0;if(!s.rendering.done){if(e=d?t:a.view.data,l)for(l=p.reverse?"unshift":"push",i=+p.end,o=+p.step||1,e=[],r=+p.start||0;(i-r)*o>0;r+=o)e[l](r);void 0!==e&&(n=ot(e),c+=a.render(e,!d||p.noIteration),u+=n?e.length:1),(s.rendering.done=u)&&(s.selected=a.index)}return c},flow:!0},props:{baseTag:"for",dataMap:P(W),init:o,flow:!0},include:{flow:!0},"*":{render:i,flow:!0},":*":{render:i,flow:!0},dbg:lt.dbg=at.dbg=s}),at({html:H,attr:H,encode:Q,unencode:X,url:function(t){return void 0!=t?encodeURI(""+t):null===t?t:""}}),ct=dt.settings,ot=(Y||jsr).isArray,ft.delimiters("{{","}}","^");var Lt=require("fs"),Wt=require("path"),Zt=Wt.sep,zt=Wt.resolve("./"),Gt=zt.length+1;Y.renderFile=Y.__express=function(t,e,n){t="./"+Lt.realpathSync(t).slice(Gt).split(Zt).join("/");var r=st(t).render(e);return n&&n(null,r),r},rt.tags("clientTemplate",function(t){return'<script id="'+t+'" type="text/x-jsrender">'+st(t).markup+"</script>"}),module.exports=Y}(this);
//# sourceMappingURL=jsrender-node.min.js.map
