/*! JsRender v0.9.90 (Beta): http://jsviews.com/#jsrender */
/*! **VERSION FOR NODE.JS** (For WEB see http://jsviews.com/download/jsrender.js) */
!function(e){"use strict";function t(e,t){return function(){var n,r=this,i=r.base;return r.base=e,n=t.apply(r,arguments),r.base=i,n}}function n(e,n){return Y(n)&&(n=t(e?e._d?e:t(o,e):o,n),n._d=1),n}function r(e,t){var r,i=t.props;for(r in i)!Re.test(r)||e[r]&&e[r].fix||(e[r]="convert"!==r?n(e.constructor.prototype[r],i[r]):i[r])}function i(e){return e}function o(){return""}function a(e){try{throw console.log("JsRender dbg breakpoint: "+e),"dbg breakpoint"}catch(t){}return this.base?this.baseApply(arguments):e}function s(e){this.name=(G.link?"JsViews":"JsRender")+" Error",this.message=e||this.name}function l(e,t){if(e){for(var n in t)e[n]=t[n];return e}}function d(e,t,n){return e?ee(e)?d.apply(X,e):(ae.delimiters=[e,t,fe=n?n.charAt(0):fe],de=e.charAt(0),pe=e.charAt(1),ce=t.charAt(0),ue=t.charAt(1),e="\\"+de+"(\\"+fe+")?\\"+pe,t="\\"+ce+"\\"+ue,Q="(?:(\\w+(?=[\\/\\s\\"+ce+"]))|(\\w+)?(:)|(>)|(\\*))\\s*((?:[^\\"+ce+"]|\\"+ce+"(?!\\"+ue+"))*?)",oe.rTag="(?:"+Q+")",Q=new RegExp("(?:"+e+Q+"(\\/)?|\\"+de+"(\\"+fe+")?\\"+pe+"(?:(?:\\/(\\w+))\\s*|!--[\\s\\S]*?--))"+t,"g"),oe.rTmpl=new RegExp("^\\s|\\s$|<.*>|([^\\\\]|^)[{}]|"+e+".*"+t),le):ae.delimiters}function p(e,t){t||e===!0||(t=e,e=void 0);var n,r,i,o,a=this,s=!t||"root"===t;if(e){if(o=t&&a.type===t&&a,!o)if(n=a.views,a._.useKey){for(r in n)if(o=t?n[r].get(e,t):n[r])break}else for(r=0,i=n.length;!o&&r<i;r++)o=t?n[r].get(e,t):n[r]}else if(s)o=a.root;else for(;a&&!o;)o=a.type===t?a:void 0,a=a.parent;return o}function c(){var e=this.get("item");return e?e.index:void 0}function u(){return this.index}function f(t,n,r){var i,o,a,s,d=this,p=!ve&&void 0!==n,c=d.ctx;if(t in c||t in(c=re)){if(a=c&&c[t],"tag"===t||"root"===t||"parentTags"===t||d._.it===t)return a}else c=void 0;if((!a||!Y(a)&&d.linked||d.tagCtx)&&(a&&a._cxp||(c!==re&&(d=d.tagCtx?d:(d=d.scope||d,!d.isTop&&d.ctx.tag||d),c=d._ocps,a=c&&c[t]||a),a&&a._cxp||!r&&!p||(a=oe._crcp(t,a,d,c))),s=a&&a._cxp)){if(p)return oe._ucp(t,n,d,s);if(r)return o=a[1]?oe._ceo(a[1].deps):[me],o.unshift(a[0]),o._cxp=s,o;a=a[1]?s.tag&&s.tag.cvtArgs?s.tag.cvtArgs(!0,s.tagElse)[s.ind]:a[1](a[0].data,a[0],oe):a[0]._ocp}return a&&Y(a)&&(i=function(){return a.apply(this&&this!==e?this:d,arguments)},l(i,a),i._vw=d),i||a}function g(e){return e&&(e.fn?e:this.getRsc("templates",e)||te(e))}function v(e,t,n,i){var o,a,s,d,p="number"==typeof n&&t.tmpl.bnds[n-1],c=t.linkCtx;if(void 0===i&&p&&p._lr&&(i=""),void 0!==i?n=i={props:{},args:[i]}:p&&(n=p(t.data,t,oe)),p=p._bd&&p,a=n.args[0],e||p){if(o=c&&c.tag,n.view=t,!o){if(o=l(new oe._tg,{_:{bnd:p,unlinked:!0},inline:!c,tagName:":",convert:e,flow:!0,tagCtx:n}),s=n.args.length,s>1)for(d=o.bindTo=[];s--;)d.unshift(s);c&&(c.tag=o,o.linkCtx=c),n.ctx=D(n.ctx,(c?c.view:t).ctx),r(o,n)}o._er=i&&a,o.ctx=n.ctx||o.ctx||{},n.ctx=void 0,a=o.cvtArgs()[0]}return a=p&&t._.onRender?t._.onRender(a,t,o):a,void 0!=a?a:""}function h(e,t){var n,r,i,o,a,s,l,d=this;if(d.tagName?(s=d,d=s.tagCtxs?s.tagCtxs[t||0]:s.tagCtx):s=d.tag,a=s.bindTo,o=d.args,(l=s.convert)&&""+l===l&&(l="true"===l?void 0:d.view.getRsc("converters",l)||P("Unknown converter: '"+l+"'")),e&&e.length)o=e;else if(l&&!e&&(o=o.slice()),a){for(i=[],n=a.length;n--;)r=a[n],i.unshift(m(d,r));e&&(o=i)}if(l)if(a=a||[0],n=a.length,l=l.apply(s,i||o),ee(l)&&l.length===n||(l=[l],a=[0],n=1),e)o=l;else for(;n--;)r=a[n],+r===r&&(o[r]=l[n]);return o}function m(e,t){return e=e[+t===t?"args":"props"],e&&e[t]}function w(e){return this.cvtArgs(!0,e)}function x(e,t){var n,r,i=this;if(""+t===t){for(;void 0===n&&i;)r=i.tmpl&&i.tmpl[e],n=r&&r[t],i=i.parent;return n||X[e][t]}}function _(e,t,n,i,o,a){function s(e){var t;(t=l[e])&&(l[e]=t=ee(t)?t:[t],E!==t.length&&P(e+" length not same as bindTo "))}t=t||W;var l,d,p,c,u,f,g,v,h,w,x,_,b,y,k,C,T,j,A,R,V,$,E,N=0,S="",O=t.linkCtx||0,I=t.ctx,U=n||t.tmpl,J="number"==typeof i&&t.tmpl.bnds[i-1];for("tag"===e._is?(l=e,e=l.tagName,i=l.tagCtxs,p=l.template):(d=t.getRsc("tags",e)||P("Unknown tag: {{"+e+"}} "),p=d.template),void 0===a&&J&&(J._lr=(d.lateRender||J._lr)&&"false"!==J._lr)&&(a=""),void 0!==a?(S+=a,i=a=[{props:{},args:[],params:{}}]):J&&(i=J(t.data,t,oe)),g=i.length;N<g;N++)w=i[N],y=w.tmpl,(!O||!O.tag||N&&!O.tag.inline||l._er||y&&+y===y)&&(y&&U.tmpls&&(w.tmpl=w.content=U.tmpls[y-1]),w.index=N,w.render=F,w.view=t,w.ctx=D(w.ctx,I)),(n=w.props.tmpl)&&(w.tmpl=t.getTmpl(n),w.content=w.content||w.tmpl),l||(l=new d._ctr,k=!!l.init,l.parent=f=I&&I.tag,l.tagCtxs=i,R=l.dataMap,O&&(l.inline=!1,O.tag=l,l.linkCtx=O),(l._.bnd=J||O.fn)?l._.arrVws={}:l.dataBoundOnly&&P(e+" must be data-bound:\n{^{"+e+"}}")),i=l.tagCtxs,R=l.dataMap,w.tag=l,R&&i&&(w.map=i[N].map),l.flow||(x=w.ctx=w.ctx||{},c=l.parents=x.parentTags=I&&D(x.parentTags,I.parentTags)||{},f&&(c[f.tagName]=f),c[l.tagName]=x.tag=l);if(!(l._er=a)){for(r(l,i[0]),l.rendering={},N=0;N<g;N++){if(w=l.tagCtx=i[N],A=w.props,l.ctx=w.ctx,!N){if(k&&(l.init(w,O,l.ctx),k=void 0),w.args.length||l.argDefault===!1||(w.args=j=[w.view.data],w.params.args=["#data"]),b=l.bindTo,void 0!==b)for(b=l.bindTo=ee(b)?b:[b],v=b.length;v--;)$=b[v],isNaN(parseInt($))||($=parseInt($)),b[v]=$;b=l.bindTo||[0],E=b.length,l._.bnd&&(s("linkedElement"),s("linkedCtxParam")),O&&(O.attr=l.attr=O.attr||l.attr),u=l.attr,l._.noVws=u&&u!==Fe}if(j=l.cvtArgs(void 0,N),l.linkedCtxParam)for(v=E;v--;)(_=l.linkedCtxParam[v])&&($=b[v],w.ctx[_]=oe._cp(m(w,$),m(w.params,$),w.view,l._.bnd&&{tag:l,ind:v,tagElse:N}));(C=A.dataMap||R)&&(j.length||A.dataMap)&&(T=w.map,T&&T.src===j[0]&&!o||(T&&T.src&&T.unmap(),T=w.map=C.map(j[0],A,void 0,!l._.bnd)),j=[T.tgt]),h=void 0,l.render&&(h=l.render.apply(l,j),t.linked&&h&&!Ve.test(h)&&(n={links:[]},n.render=n.fn=function(){return h},h=M(n,t.data,void 0,!0,t,void 0,void 0,l))),j.length||(j=[t]),void 0===h&&(V=j[0],l.contentCtx&&(V=l.contentCtx===!0?t:l.contentCtx(V)),h=w.render(V,!0)||(o?void 0:"")),S=S?S+(h||""):h}l.rendering=void 0}return l.tagCtx=i[0],l.ctx=l.tagCtx.ctx,l._.noVws&&l.inline&&(S="text"===u?ne.html(S):""),J&&t._.onRender?t._.onRender(S,t,l):S}function b(e,t,n,r,i,o,a,s){var l,d,p,u=this,f="array"===t;u.content=s,u.views=f?[]:{},u.data=r,u.tmpl=i,p=u._={key:0,useKey:f?0:1,id:""+Ee++,onRender:a,bnds:{}},u.linked=!!a,u.type=t||"top",(u.parent=n)?(u.root=n.root||u,l=n.views,d=n._,u.isTop=d.scp,u.scope=(!e.tag||e.tag===n.ctx.tag)&&!u.isTop&&n.scope||u,d.useKey?(l[p.key="_"+d.useKey++]=u,u.index=Se,u.getIndex=c):l.length===(p.key=u.index=o)?l.push(u):l.splice(o,0,u),u.ctx=e||n.ctx):u.ctx=e||{}}function y(e){var t,n,r;for(t in Oe)n=t+"s",e[n]&&(r=e[n],e[n]={},X[n](r,e))}function k(e,t,r){function i(){var t=this;t._={unlinked:!0},t.inline=!0,t.tagName=e}var o,a,s,d=(t.bindTo,new oe._tg);if(Y(t)?t={depends:t.depends,render:t}:""+t===t&&(t={template:t}),a=t.baseTag){t.flow=!!t.flow,t.baseTag=a=""+a===a?r&&r.tags[a]||ie[a]:a,d=l(d,a);for(s in t)d[s]=n(a[s],t[s])}else d=l(d,t);return void 0!==(o=d.template)&&(d.template=""+o===o?te[o]||te(o):o),(i.prototype=d).constructor=d._ctr=i,r&&(d._parentTmpl=r),d}function C(e){return this.base.apply(this,e)}function T(e,t,n,r){function i(t){var i;if(""+t===t||t.nodeType>0&&(o=t)){if(!o&&/^\.\/[^\\:*?"<>]*$/.test(t))if(i=te[e=e||t])t=i;else{try{t=Ie.readFileSync(t,"utf8")}catch(a){a&&"ENOENT"==a.code&&P("Template '"+t+"' not found at '"+a.path+"'. Use path relative to '"+Ke+"'.")}t=T(e,t.replace(/^\uFEFF/,""),n,r),r||(te[e]=t)}o=void 0}else t.fn||(t=void 0);return t}var o,a,s=t=t||"";if(oe._html=ne.html,0===r&&(r=void 0,s=i(s)),r=r||(t.markup?t:{}),r.tmplName=e,n&&(r._parentTmpl=n),!s&&t.markup&&(s=i(t.markup))&&s.fn&&(s=s.markup),void 0!==s)return s.fn||t.fn?s.fn&&(a=s):(t=V(s,r),I(s.replace(ye,"\\$&"),t)),a||(a=l(function(){return a.render.apply(a,arguments)},t),y(a)),a}function j(e,t){return Y(e)?e.call(t):e}function A(e){for(var t=[],n=0,r=e.length;n<r;n++)t.push(e[n].unmap());return t}function R(e,t){function n(e){d.apply(this,e)}function r(){return new n(arguments)}function i(e,t){for(var n,r,i,o,a=0;a<m;a++)i=c[a],n=void 0,i+""!==i&&(n=i,i=n.getter),void 0===(o=e[i])&&n&&void 0!==(r=n.defaultVal)&&(o=j(r,e)),t(o,n&&p[n.type],i)}function o(t){t=t+""===t?JSON.parse(t):t;var n,r,o=0,l=t,d=[];if(ee(t)){for(t=t||[],n=t.length;o<n;o++)d.push(this.map(t[o]));return d._is=e,d.unmap=s,d.merge=a,d}if(t){i(t,function(e,t){t&&(e=t.map(e)),d.push(e)}),l=this.apply(this,d);for(r in t)x[r]||(l[r]=t[r])}return l}function a(e){e=e+""===e?JSON.parse(e):e;var t,n,o,a,s,l,d,p,c,u=0,g=this;if(ee(g)){for(d={},c=[],n=e.length,o=g.length;u<n;u++){for(p=e[u],l=!1,t=0;t<o&&!l;t++)d[t]||(s=g[t],f&&(d[t]=l=f+""===f?p[f]&&(x[f]?s[f]():s[f])===p[f]:f(s,p)));l?(s.merge(p),c.push(s)):c.push(r.map(p))}return void(w?w(g).refresh(c,!0):g.splice.apply(g,[0,g.length].concat(c)))}i(e,function(e,t,n){t?g[n]().merge(e):g[n](e)});for(a in e)x[a]||(g[a]=e[a])}function s(){var e,t,n,r,i=0,o=this;if(ee(o))return A(o);for(e={};i<m;i++)t=c[i],n=void 0,t+""!==t&&(n=t,t=n.getter),r=o[t](),e[t]=n&&r&&p[n.type]?ee(r)?A(r):r.unmap():r;for(t in o)"_is"===t||x[t]||"_"===t.charAt(0)&&x[t.slice(1)]||Y(o[t])||(e[t]=o[t]);return e}var l,d,p=this,c=t.getters,u=t.extend,f=t.id,g=G.extend({_is:e||"unnamed",unmap:s,merge:a},u),v="",h="",m=c?c.length:0,w=G.observable,x={};for(n.prototype=g,l=0;l<m;l++)!function(e){e=e.getter||e,x[e]=l+1;var t="_"+e;v+=(v?",":"")+e,h+="this."+t+" = "+e+";\n",g[e]=g[e]||function(n){return arguments.length?void(w?w(this).setProperty(e,n):this[t]=n):this[t]},w&&(g[e].set=g[e].set||function(e){this[t]=e})}(c[l]);return d=new Function(v,h.slice(0,-1)),d.prototype=g,g.constructor=d,r.map=o,r.getters=c,r.extend=u,r.id=f,r}function V(e,t){var n,r=se._wm||{},i=l({tmpls:[],links:{},bnds:[],_is:"template",render:F},t);return i.markup=e,t.htmlTag||(n=Te.exec(e),i.htmlTag=n?n[1].toLowerCase():""),n=r[i.htmlTag],n&&n!==r.div&&(i.markup=G.trim(i.markup)),i}function $(e,t){function n(i,o,a){var s,l,d,p=oe.onStore[e];if(i&&typeof i===Me&&!i.nodeType&&!i.markup&&!i.getTgt&&!("viewModel"===e&&i.getters||i.extend)){for(l in i)n(l,i[l],o);return o||X}return void 0===o&&(o=i,i=void 0),i&&""+i!==i&&(a=o,o=i,i=void 0),d=a?"viewModel"===e?a:a[r]=a[r]||{}:n,s=t.compile,null===o?i&&delete d[i]:(s&&(o=s.call(d,i,o,a,0)||{},o._is=e),i&&(d[i]=o)),p&&p(i,o,a,s),o}var r=e+"s";X[r]=n}function E(e){le[e]=function(t){return arguments.length?(ae[e]=t,le):ae[e]}}function N(e){function t(t,n){this.tgt=e.getTgt(t,n)}return Y(e)&&(e={getTgt:e}),e.baseMap&&(e=l(l({},e.baseMap),e)),e.map=function(e,n){return new t(e,n)},e}function F(e,t,n,r,i,o){var a,s,l,d,p,c,u,f,g=r,v="";if(t===!0?(n=t,t=void 0):typeof t!==Me&&(t=void 0),(l=this.tag)?(p=this,g=g||p.view,d=g.getTmpl(l.template||p.tmpl),arguments.length||(e=g)):d=this,d){if(!r&&e&&"view"===e._is&&(g=e),g&&e===g&&(e=g.data),c=!g,ve=ve||c,g||((t=t||{}).root=e),!ve||se.useViews||d.useViews||g&&g!==W)v=M(d,e,t,n,g,i,o,l);else{if(g?(u=g.data,f=g.index,g.index=Se):(g=W,u=g.data,g.data=e,g.ctx=t),ee(e)&&!n)for(a=0,s=e.length;a<s;a++)g.index=a,g.data=e[a],v+=d.fn(e[a],g,oe);else g.data=e,v+=d.fn(e,g,oe);g.data=u,g.index=f}c&&(ve=void 0)}return v}function M(e,t,n,r,i,o,a,s){function d(e){_=l({},n),_[x]=e}var p,c,u,f,g,v,h,m,w,x,_,y,k="";if(s&&(w=s.tagName,y=s.tagCtx,n=n?D(n,s.ctx):s.ctx,e===i.content?h=e!==i.ctx._wrp?i.ctx._wrp:void 0:e!==y.content?e===s.template?(h=y.tmpl,n._wrp=y.content):h=y.content||i.content:h=i.content,y.props.link===!1&&(n=n||{},n.link=!1),(x=y.props.itemVar)&&("~"!==x.charAt(0)&&O("Use itemVar='~myItem'"),x=x.slice(1))),i&&(a=a||i._.onRender,n=D(n,i.ctx)),o===!0&&(v=!0,o=0),a&&(n&&n.link===!1||s&&s._.noVws)&&(a=void 0),m=a,a===!0&&(m=void 0,a=i._.onRender),n=e.helpers?D(e.helpers,n):n,_=n,ee(t)&&!r)for(u=v?i:void 0!==o&&i||new b(n,"array",i,t,e,o,a,h),i&&i._.useKey&&(u._.bnd=!s||s._.bnd&&s),p=0,c=t.length;p<c;p++)x&&d(t[p]),f=new b(_,"item",u,t[p],e,(o||0)+p,a,u.content),f._.it=x,g=e.fn(t[p],f,oe),k+=u._.onRender?u._.onRender(g,f):g;else x&&d(t),u=v?i:new b(_,w||"data",i,t,e,o,a,h),u._.it=x,k+=e.fn(t,u,oe);return s&&(u.tag=s,u.tagElse=y.index,y.contentView=u),m?m(k,u):k}function S(e,t,n){var r=void 0!==n?Y(n)?n.call(t.data,e,t):n||"":"{Error: "+(e.message||e)+"}";return ae.onError&&void 0!==(n=ae.onError.call(t.data,e,n&&r,t))&&(r=n),t&&!t.linkCtx?ne.html(r):r}function P(e){throw new oe.Err(e)}function O(e){P("Syntax error\n"+e)}function I(e,t,n,r,i){function o(t){t-=v,t&&m.push(e.substr(v,t).replace(_e,"\\n"))}function a(t,n){t&&(t+="}}",O((n?"{{"+n+"}} block has {{/"+t+" without {{"+t:"Unmatched or missing {{/"+t)+", in template:\n"+e))}function s(s,l,d,u,g,x,_,b,y,k,C,T){(_&&l||y&&!d||b&&":"===b.slice(-1)||k)&&O(s),x&&(g=":",u=Fe),y=y||n&&!i;var j,A=(l||n)&&[[]],R="",V="",$="",E="",N="",F="",M="",S="",P=!y&&!g;d=d||(b=b||"#data",g),o(T),v=T+s.length,_?f&&m.push(["*","\n"+b.replace(/^:/,"ret+= ").replace(be,"$1")+";\n"]):d?("else"===d&&(Ce.test(b)&&O('for "{{else if expr}}" use "{{else expr}}"'),A=w[8]&&[[]],w[9]=e.substring(w[9],T),w=h.pop(),m=w[2],P=!0),b&&q(b.replace(_e," "),A,t).replace(ke,function(e,t,n,r,i,o,a,s){return r="'"+i+"':",a?(V+=o+",",E+="'"+s+"',"):n?($+=r+"j._cp("+o+',"'+s+'",view),',F+=r+"'"+s+"',"):t?M+=o:("trigger"===i&&(S+=o),"lateRender"===i&&(j=s),R+=r+o+",",N+=r+"'"+s+"',",c=c||Re.test(i)),""}).slice(0,-1),A&&A[0]&&A.pop(),p=[d,u||!!r||c||"",P&&[],J(E||(":"===d?"'#data',":""),N,F),J(V||(":"===d?"data,":""),R,$),M,S,j,A||0],m.push(p),P&&(h.push(w),w=p,w[9]=v)):C&&(a(C!==w[0]&&"else"!==w[0]&&C,w[0]),w[9]=e.substring(w[9],T),w=h.pop()),a(!w&&C),m=w[2]}var l,d,p,c,u,f=ae.allowCode||t&&t.allowCode||le.allowCode===!0,g=[],v=0,h=[],m=g,w=[,,g];if(f&&t._is&&(t.allowCode=f),n&&(void 0!==r&&(e=e.slice(0,-r.length-2)+ce),e=de+e+ue),a(h[0]&&h[0][2].pop()[0]),e.replace(Q,s),o(e.length),(v=g[g.length-1])&&a(""+v!==v&&+v[9]===v[9]&&v[0]),n){for(d=B(g,e,n),u=[],l=g.length;l--;)u.unshift(g[l][8]);U(d,u)}else d=B(g,t);return d}function U(e,t){var n,r,i=0,o=t.length;for(e.deps=[],e.paths=[];i<o;i++){e.paths.push(r=t[i]);for(n in r)"_jsvto"!==n&&r.hasOwnProperty(n)&&r[n].length&&!r[n].skp&&(e.deps=e.deps.concat(r[n]))}}function J(e,t,n){return[e.slice(0,-1),t.slice(0,-1),n.slice(0,-1)]}function K(e,t){return"\n\t"+(t?t+":{":"")+"args:["+e[0]+"]"+(e[1]||!t?",\n\tprops:{"+e[1]+"}":"")+(e[2]?",\n\tctx:{"+e[2]+"}":"")}function q(e,t,n){function r(r,m,w,x,_,b,y,k,C,T,j,A,R,V,$,E,N,F,M,S){function P(e,n,r,a,s,l,c,u){var f="."===r;if(r&&(_=_.slice(n.length),/^\.?constructor$/.test(u||_)&&O(e),f||(e=(a?'view.ctxPrm("'+a+'")':s?"view":"data")+(u?(l?"."+l:a?"":s?"":"."+r)+(c||""):(u=a?"":s?l||"":r,"")),e+=u?"."+u:"",e=n+("view.data"===e.slice(0,9)?e.slice(5):e)),d)){if(K="linkTo"===i?o=t._jsvto=t._jsvto||[]:p.bd,q=f&&K[K.length-1]){if(q._cpfn){for(;q.sb;)q=q.sb;q.bnd&&(_="^"+_.slice(1)),q.sb=_,q.bnd=q.bnd||"^"===_.charAt(0)}}else K.push(_);h[g]=M+(f?1:0)}return e}x&&!k&&(_=x+_),b=b||"",w=w||m||A,_=_||C,T=T||N||"";var U,J,K,q,B,D=")";if("["===T&&(T="[j._sq(",D=")]"),!y||l||s){if(d&&E&&!l&&!s&&(!i||a||o)&&(U=h[g-1],S.length-1>M-(U||0))){if(U=S.slice(U,M+r.length),J!==!0)if(K=o||c[g-1].bd,q=K[K.length-1],q&&q.prm){for(;q.sb&&q.sb.prm;)q=q.sb;B=q.sb={path:q.sb,bnd:q.bnd}}else K.push(B={path:K.pop()});E=pe+":"+U+" onerror=''"+ce,J=f[E],J||(f[E]=!0,f[E]=J=I(E,n,!0)),J!==!0&&B&&(B._cpfn=J,B.prm=p.bd,B.bnd=B.bnd||B.path&&B.path.indexOf("^")>=0)}return l?(l=!R,l?r:A+'"'):s?(s=!V,s?r:A+'"'):(w?(h[g]=M++,p=c[++g]={bd:[]},w):"")+(F?g?"":(u=S.slice(u,M),(i?(i=a=o=!1,"\b"):"\b,")+u+(u=M+r.length,d&&t.push(p.bd=[]),"\b")):k?(g&&O(e),d&&t.pop(),i=_,a=x,u=M+r.length,d&&(d=p.bd=t[i]=[],d.skp=!x),_+":"):_?_.split("^").join(".").replace(we,P)+(T?(p=c[++g]={bd:[]},v[g]=D,T):b):b?b:$?($=v[g]||$,v[g]=!1,p=c[--g],$+(T?(p=c[++g],v[g]=D,T):"")):j?(v[g]||O(e),","):m?"":(l=R,s=V,'"'))}O(e)}var i,o,a,s,l,d=t&&t[0],p={bd:d},c={0:p},u=0,f=(n?n.links:d&&(d.links=d.links||{}))||W.tmpl.links,g=0,v={},h={},m=(e+(n?" ":"")).replace(xe,r);return!g&&m||O(e)}function B(e,t,n){var r,i,o,a,s,l,d,p,c,u,f,g,v,h,m,w,x,_,b,y,k,C,T,j,A,R,$,E,N,F,M,S=0,P=se.useViews||t.useViews||t.tags||t.templates||t.helpers||t.converters,I="",J={},q=e.length;for(""+t===t?(_=n?'data-link="'+t.replace(_e," ").slice(1,-1)+'"':t,t=0):(_=t.tmplName||"unnamed",t.allowCode&&(J.allowCode=!0),t.debug&&(J.debug=!0),f=t.bnds,x=t.tmpls),r=0;r<q;r++)if(i=e[r],""+i===i)I+='\n+"'+i+'"';else if(o=i[0],"*"===o)I+=";\n"+i[1]+"\nret=ret";else{a=i[1],k=!n&&i[2],s=K(i[3],"params")+"},"+K(v=i[4]);var D=v[1];if(D&&/^'tmpl':"\.\/[^\:*?"<>]*"$/.test(D)&&(t.refs=t.refs||{},t.refs[D.slice(8,-1)]=1),F=i[6],M=i[7],C=i[9]&&i[9].replace(be,"$1"),(A="else"===o)?g&&g.push(i[8]):(E=i[5]||ae.debugMode!==!1&&"undefined",f&&(g=i[8])&&(g=[g],S=f.push(1))),P=P||v[1]||v[2]||g||/view.(?!index)/.test(v[0]),(R=":"===o)?a&&(o=a===Fe?">":a+o):(k&&(b=V(C,J),b.tmplName=_+"/"+o,b.useViews=b.useViews||P,B(k,b),P=b.useViews,x.push(b)),A||(y=o,P=P||o&&(!ie[o]||!ie[o].flow),j=I,I=""),T=e[r+1],T=T&&"else"===T[0]),N=E?";\ntry{\nret+=":"\n+",h="",m="",R&&(g||F||a&&a!==Fe||M)){if($=new Function("data,view,j,u","// "+_+" "+ ++S+" "+o+"\nreturn {"+s+"};"),$._er=E,$._tag=o,$._bd=!!g,$._lr=M,n)return $;U($,g),w='c("'+a+'",view,',u=!0,h=w+S+",",m=")"}if(I+=R?(n?(E?"try{\n":"")+"return ":N)+(u?(u=void 0,P=c=!0,w+($?(f[S-1]=$,S):"{"+s+"}")+")"):">"===o?(d=!0,"h("+v[0]+")"):(p=!0,"((v="+v[0]+")!=null?v:"+(n?"null)":'"")'))):(l=!0,"\n{view:view,tmpl:"+(k?x.length:"0")+","+s+"},"),y&&!T){if(I="["+I.slice(0,-1)+"]",w='t("'+y+'",view,this,',n||g){if(I=new Function("data,view,j,u"," // "+_+" "+S+" "+y+"\nreturn "+I+";"),I._er=E,I._tag=y,g&&U(f[S-1]=I,g),I._lr=M,n)return I;h=w+S+",undefined,",m=")"}I=j+N+w+(I.deps&&S||I)+")",g=0,y=0}E&&!T&&(P=!0,I+=";\n}catch(e){ret"+(n?"urn ":"+=")+h+"j._err(e,view,"+E+")"+m+";}"+(n?"":"ret=ret"))}I="// "+_+"\nvar v"+(l?",t=j._tag":"")+(c?",c=j._cnvt":"")+(d?",h=j._html":"")+(n?";\n":',ret=""\n')+(J.debug?"debugger;":"")+I+(n?"\n":";\nreturn ret;");try{I=new Function("data,view,j,u",I)}catch(L){O("Compiled template code:\n\n"+I+'\n: "'+(L.message||L)+'"')}return t&&(t.fn=I,t.useViews=!!P),I}function D(e,t){return e&&e!==t?t?l(l({},t),e):e:t&&l({},t)}function L(e){return Ne[e]||(Ne[e]="&#"+e.charCodeAt(0)+";")}function Z(e){var t,n,r=[];if(typeof e===Me)for(t in e)n=e[t],e.hasOwnProperty(t)&&!Y(n)&&r.push({key:t,prop:n});return r}function z(e){return void 0!=e?Ae.test(e)&&(""+e).replace($e,L)||e:""}if("object"!=typeof exports)throw"Outside Node.js use //jsviews.com/download/jsrender.js";var G,H,Q,W,X,Y,ee,te,ne,re,ie,oe,ae,se,le,de,pe,ce,ue,fe,ge,ve,he="v0.9.90",me="_ocp",we=/^(!*?)(?:null|true|false|\d[\d.]*|([\w$]+|\.|~([\w$]+)|#(view|([\w$]+))?)([\w$.^]*?)(?:[.[^]([\w$]+)\]?)?)$/g,xe=/(\()(?=\s*\()|(?:([([])\s*)?(?:(\^?)(!*?[#~]?[\w$.^]+)?\s*((\+\+|--)|\+|-|&&|\|\||===|!==|==|!=|<=|>=|[<>%*:?\/]|(=))\s*|(!*?[#~]?[\w$.^]+)([([])?)|(,\s*)|(\(?)\\?(?:(')|("))|(?:\s*(([)\]])(?=\s*[.^]|\s*$|[^([])|[)\]])([([]?))|(\s+)/g,_e=/[ \t]*(\r\n|\n|\r)/g,be=/\\(['"])/g,ye=/['"\\]/g,ke=/(?:\x08|^)(onerror:)?(?:(~?)(([\w$_\.]+):)?([^\x08]+))\x08(,)?([^\x08]+)/gi,Ce=/^if\s/,Te=/<(\w+)[>\s]/,je=/[\x00`><"'&=]/g,Ae=/[\x00`><\"'&=]/,Re=/^on[A-Z]|^convert(Back)?$/,Ve=/^\#\d+_`[\s\S]*\/\d+_`$/,$e=je,Ee=0,Ne={"&":"&amp;","<":"&lt;",">":"&gt;","\0":"&#0;","'":"&#39;",'"':"&#34;","`":"&#96;","=":"&#61;"},Fe="html",Me="object",Se="For #index in nested block use #getIndex().",Pe={},Oe={template:{compile:T},tag:{compile:k},viewModel:{compile:R},helper:{},converter:{}};X={jsviews:he,sub:{View:b,Err:s,tmplFn:I,parse:q,extend:l,extendCtx:D,syntaxErr:O,onStore:{template:function(e,t){null===t?delete Pe[e]:Pe[e]=t}},addSetting:E,settings:{allowCode:!1},advSet:o,_ths:r,_gm:n,_tg:function(){},_cnvt:v,_tag:_,_er:P,_err:S,_cp:i,_sq:function(e){return"constructor"===e&&O(""),e}},settings:{delimiters:d,advanced:function(e){return e?(l(se,e),oe.advSet(),le):se}},map:N},(s.prototype=new Error).constructor=s,c.depends=function(){return[this.get("item"),"index"]},u.depends="index",b.prototype={get:p,getIndex:u,getRsc:x,getTmpl:g,ctxPrm:f,_is:"view"},oe=X.sub,le=X.settings;for(H in Oe)$(H,Oe[H]);ne=X.converters,re=X.helpers,ie=X.tags,oe._tg.prototype={baseApply:C,cvtArgs:h,bndArgs:w,ctxPrm:f},W=oe.topView=new b,G={},G.isFunction=function(e){return"function"==typeof e},G.isArray=Array.isArray||function(e){return"[object Array]"==={}.toString.call(e)},G.jsrender=he,ae=oe.settings,ae.allowCode=!1,Y=G.isFunction,G.render=Pe,G.views=X,G.templates=te=X.templates,G.compile=function(e,t){return t=t||{},t.markup=e,te(t)};for(ge in ae)E(ge);(le.debugMode=function(e){return void 0===e?ae.debugMode:(ae.debugMode=e,ae.onError=e+""===e?new Function("","return '"+e+"';"):Y(e)?e:void 0,le)})(!1),se=ae.advanced={useViews:!1,_jsv:!1},ie({"if":{render:function(e){var t=this,n=t.tagCtx,r=t.rendering.done||!e&&(arguments.length||!n.index)?"":(t.rendering.done=!0,void(t.selected=n.index));return r},contentCtx:!0,flow:!0},"for":{render:function(e){var t,n=!arguments.length,r=this,i=r.tagCtx,o="",a=0;return r.rendering.done||(t=n?i.view.data:e,void 0!==t&&(o+=i.render(t,n),a+=ee(t)?t.length:1),(r.rendering.done=a)&&(r.selected=i.index)),o},flow:!0},props:{baseTag:"for",dataMap:N(Z),flow:!0},include:{flow:!0},"*":{render:i,flow:!0},":*":{render:i,flow:!0},dbg:re.dbg=ne.dbg=a}),ne({html:z,attr:z,url:function(e){return void 0!=e?encodeURI(""+e):null===e?e:""}}),ae=oe.settings,ee=(G||jsr).isArray,le.delimiters("{{","}}","^");var Ie=require("fs"),Ue=require("path"),Je=Ue.sep,Ke=Ue.resolve("./"),qe=Ke.length+1;G.renderFile=G.__express=function(e,t,n){e="./"+Ie.realpathSync(e).slice(qe).split(Je).join("/");var r=te(e).render(t);return n&&n(null,r),r},X.tags("clientTemplate",function(e){return'<script id="'+e+'" type="text/x-jsrender">'+te(e).markup+"</script>"}),module.exports=G}(this);
//# sourceMappingURL=jsrender-node.min.js.map
