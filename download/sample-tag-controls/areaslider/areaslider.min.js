/*! Sample JsViews tag control: {{areaslider}} control v0.9.91 (Beta)
see: http://www.jsviews.com/#download/sample-tagcontrols */
!function(e){"use strict";function t(e){return Math.round(100*e)/100}function n(e,t,n){return t>n?e<=n?n:e>=t?t:e:e<=t?t:e>=n?n:e}e.views.tags({areaslider:{bindTo:[0,1],setSize:!0,mainElement:".sliderbox",init:function(t){var n=this,i=t.tmpl.markup;n.mouseMoveOff=function(){e(document).off("mousemove touchmove")},n.inline&&(n.template=i?e.trim(i):'<div class="sliderbox"><div class="dragger"></div></div>')},onBind:function(i){var o=this,s=i.props.xMin,a=i.props.xMax,r=i.props.yMin,l=i.props.yMax;i.handle=i.mainElem.find(".dragger").first(),i.mainElem.on("mousedown touchstart",function(c){function u(e,o){p=n(t(s+(e-i.metrics.left)/i.metrics.xScale),s,a),f=n(t(r+(o-i.metrics.top)/i.metrics.yScale),r,l)}var p,f;u(c.clientX,c.clientY),o.moveTo(p,f),e(document).on("mousemove touchmove",function(e){u(e.clientX,e.clientY),p===i.xVal&&f===i.yVal||(i.xVal=p,i.yVal=f,setTimeout(function(){o.moveTo(p,f)},0)),c.preventDefault()}),c.preventDefault()}),e(document).on("mouseup touchend",this.mouseMoveOff)},onAfterLink:function(e,t,n,i,o){o||this.setMetrics(e)},onUpdate:!1,setValue:function(e,t){var i=this.tagCtx,o=i.props.xMin,s=i.props.xMax,a=i.props.yMin,r=i.props.yMax,l=i.metrics;t?(e=n(e,a,r),i.handle.offset({top:(e-a)*l.yScale+l.top-l.handleHeight})):(e=n(e,o,s),i.handle.offset({left:(e-o)*l.xScale+l.left-l.handleWidth}))},moveTo:function(e,t){this.setValues(e,t),this.updateValues(e,t)},setMetrics:function(e){var e=e||this.tagCtx,t=e.mainElem,n=t.offset();e.metrics={left:n.left,top:n.top,xScale:t.width()/(e.props.xMax-e.props.xMin),yScale:t.height()/(e.props.yMax-e.props.yMin),handleWidth:e.handle.width()/2,handleHeight:e.handle.height()/2}}}})}(this.jQuery);
//# sourceMappingURL=areaslider.min.js.map
