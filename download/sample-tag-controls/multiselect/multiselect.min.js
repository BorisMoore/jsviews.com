/*! Sample JsViews tag control: {{multiselect}} control v0.9.84 (Beta)
see: http://www.jsviews.com/#download/sample-tagcontrols */
!function(e){"use strict";e.views.tags({multisel:{boundProps:["size"],init:function(t,s){var l=this;l.valueProp=l.tagCtx.props.valueProp||"id",l.labelProp=l.tagCtx.props.labelProp||"name",l.items=t.props.items,l.selectedItems=t.props.selected||[],l._optionsTmpl="{^{for ~tag.items}}<option data-link='value{:"+l.valueProp+"}'>{{:"+l.labelProp+"}}</option>{{/for}}",l._.inline?t.content?e.views.sub.error("{{multiselect}} must be empty"):l.template="<select multiple='multiple'>"+l._optionsTmpl+"</select>":(s.elem.multiple="multiple",l.template=l._optionsTmpl)},onBind:function(t,s){var l=this;l.selectElem=l._.inline?l.contents("select"):e(s.elem),l.selectElem.on("change",function(t,s){var n=l.selectElem.children().map(function(e){return this.selected&&l.items[e]||null}).get();l._selSet=!0,e.observable(l.selectedItems).refresh(n),l._selSet=!1}),e([l.selectedItems]).on("arrayChange",e.proxy(l.updateSelection,l)),e([l.items]).on("arrayChange",e.proxy(l.updateItems,l)),l.updateSelection()},onAfterLink:function(e,t){e.props.size&&(this.selectElem[0].size=e.props.size)},onDispose:function(){var t=this;e([t.selectedItems]).off("arrayChange",t.updateSelection),e([t.items]).off("arrayChange",t.updateItems)},onUpdate:!1,attr:"html",updateSelection:function(){var e=this;if(!e._selSet){var t=e.selectedItems.map(function(t){return t[e.valueProp]});e.selectElem.val(t)}},updateItems:function(){for(var t=this,s=t.selectedItems.length;s-- >0;)e.inArray(t.selectedItems[s],t.items)<0&&e.observable(t.selectedItems).remove(s);this.updateSelection()},dataBoundOnly:!0}})}(this.jQuery);
//# sourceMappingURL=multiselect.min.js.map
