/*! Sample JsViews tag control: {{validate}} control v1.0.0
see: http://www.jsviews.com/#download/sample-tagcontrols */
!function(e){"use strict";e.views.tags({validation:{init:function(){this.childValidates=[]},validate:function(){for(var e=this.childValidates.length,t=!0;e--&&t!==!1;)t=this.childValidates[e].validate();return t},clearMessage:function(){for(var e=this.childValidates.length;e--;)this.childValidates[e].clearMessage()},refreshValidates:function(){for(var e=this.childValidates.length;e--;)this.childValidates[e].refresh()},addChild:function(e){this.childValidates.push(e)},removeChild:function(e){for(var t=this.childValidates.length;t--;)if(this.childValidates[t]===e){this.childValidates.splice(t,1),this.updateIsValid();break}},onChildValidate:function(){this.updateIsValid()},updateIsValid:function(){for(var t=!0,a=this.childValidates.length;a--;)if(!this.childValidates[a].isValid){t=!1;break}e.observable(this).setProperty("isValid",t)},isValid:!0,dataBoundOnly:!0},validate:{baseTag:"radiogroup",linkedElement:"select,textarea,input",boundProps:["preventInvalidData"],init:function(e,t){var a=this;(a.radiogroup=e.props.radiogroup)?a.baseApply(arguments):a.inline&&!e.content&&(a.template="<input/>"),a.validationGroup=this.parents.validation,a.validationGroup&&a.validationGroup.addChild(this)},render:function(e){var t,a=this,i=this.tagCtx;if(a.inline)return t=i.render(i.view,!0),t=a.radiogroup?"<div>"+t+"</div>":t},onBind:function(t,a){var i,n=this,s=n.linkedElem&&n.linkedElem[0];(i=n.childTags()[0])&&(n.targetTag=i,s&&e.view(s).tag===i&&(n.linkedElem=void 0),i.onBeforeUpdateVal=function(e,t){return n.onBeforeUpdateVal.call(n,e,t)}),n.radiogroup&&this.baseApply(arguments)},onAfterLink:function(t,a){var i=this,n=i.targetTag,s=t.props,l=i.cvtArgs()[0];void 0!==s.preventInvalidData?i.preventInvalidData=s.preventInvalidData:i.parents.validation&&(i.preventInvalidData=i.parents.validation.tagCtx.props.preventInvalidData),i.messageElem&&i.messageElem.parentNode||(i.radiogroup?(i.messageElem=i.inline?t.contents("div"):e(a.elem),i.messageElem.addClass("radiogroup")):(!i.inline&&(n=e.views.sub._glt(a.elem)[0])&&(i.targetTag=n),i.messageElem=n&&(n.displayElem||n.linkedElem||n.mainElem)||i.displayElem||i.linkedElem),i.messageElem.addClass("val-msg")),i.label&&i.label.parentNode||(i.label=e('<label class="error"></label><br/>').insertAfter(i.messageElem)[0]),i.validate(l)},onUpdate:function(e,t,a){return this.clearMessage(),!1},onBeforeUpdateVal:function(e,t){if(this.preventInvalidData)return this.validate(t.value),this.isValid},onDispose:function(){this.validationGroup&&this.validationGroup.removeChild(this)},validate:function(t){var a,i,n,s,l=this,r=l.tagCtx.props,d=l.linkedElem;void 0===t&&(l._.radio&&d&&(d=d.find("input:checked")),i=d&&d[0],t="",i?t="checkbox"===i.type?i.checked:i.value:l.targetTag&&(t=l.targetTag.bndArgs()[0]),t=t||""),l.clearMessage(),this.isValid=!0;for(var o in this.validators)if(s=r[o],void 0!==s&&this.validators[o].test(s,t)){n=o,this.isValid=!1;break}return this.isValid||(a=r["msg_"+n]||this.validators[n].message,e.isFunction(a)&&(a=a(s,t)),a=a.replace(/%cond%/g,s).replace(/%val%/g,t),void 0!==l.label.textContent?l.label.textContent=a:l.label.innerText=a,l.messageElem.addClass("invalid")),this.validationGroup&&this.validationGroup.onChildValidate(),this.isValid},validators:function(e){for(var t in e)this.validators[t]=e[t]},clearMessage:function(){var e=this,t=e.label;e.messageElem&&(e.messageElem.removeClass("invalid"),void 0!==t.textContent?t.textContent="":t.innerText="")}}}),e.views.tags.validate.validators({required:{message:"Please provide a value",test:function(e,t){return e&&""===t}},equal:{message:"Value must be %cond%",test:function(e,t){return t!==""+e}},checked:{message:function(e,t){return"Must be "+(e?"checked":"unchecked")},test:function(e,t){return(t&&"false"!==t)!==e}},min:{message:"Minimum: %cond%",test:function(e,t){return t<e}},max:{message:"Maximum:  %cond%",test:function(e,t){return t>e}},maxLength:{message:"Maximum length: %cond%",test:function(e,t){return t.length>e}},minLength:{message:"Minimum length: %cond%",test:function(e,t){return t.length<e}},regex:{message:"Invalid string format",test:function(e,t){var a=e.test?e:new RegExp(e);return!a.test(t)}}})}(this.jQuery);
//# sourceMappingURL=validate.min.js.map
