(function(n,t,i){"use strict";function r(){var n=this.tagCtx;return n.render(n.view,!0)}function u(){var n=t(this).clone();return n.find("*").addBack().removeAttr("id data-link data-jsv data-jsv-df"),n.find("script").remove(),n}t.views.tags({std:{},widget:{init:function(n){var t=this,r=n.props,u=n.content,i;t._.inline&&((i=r.elem||t.elem)&&(u?t.wrap&&(t.template="<"+i+">"+u.markup+"<\/"+i+">"):t.template=i==="input"?"<input/>":"<"+i+"><\/"+i+">"),t.attr="html");delete r.elem},onAfterLink:function(n,i){var f,r=this,e=r.options,s=n.props,u=r.widgetName||n.args[0],o=u;if(u=u.split("-").pop(),r._.unlinked){if(o===u&&(o="ui-"+u),r.linkedElem||(r.linkedElem=r._.inline?r.contents("*").first():t(i.elem)),f=r.linkedElem,!f[0])throw"No element found for widget '"+u+"'";if(f[u](r.preset),r.widget=f.data(o)||f.data(u),!r.widget)throw"widget '"+u+"' failed";}f=r.linkedElem;e&&(t.isFunction(e)&&(e=r.options()),r.linkedElem[u]("option",e));t.each(s,function(n,i){var r;n.charAt(0)==="_"&&(n=n.slice(1),r=e&&e[n],f[u]("option",n,r&&t.isFunction(r)?function(){return r.apply(f[0],arguments),i.apply(f[0],arguments)}:i))})},onUpdate:function(){return!1},dataBoundOnly:!0,attr:"none"},autocomplete:{baseTag:"widget",widgetName:"autocomplete",elem:"input",setSize:!0,options:function(){var n=this;return{change:function(t,i){i.item&&n.update(i.item.value)},select:function(t,i){i.item&&n.update(i.item.value)},focus:function(){return!1}}},setValue:function(n){this.linkedElem.val(n)},getValue:function(){return this.linkedElem.val()}},button:{baseTag:"widget",widgetName:"button",elem:"button",setSize:!0,init:function(n,t){var o,i=this,r=n.content,s=n.props,u=s.id,e=i.parent,h,f;(i._.radio=e&&e.tagName==="buttonset")?n=e.tagCtx:i._.chkBx=(i._.inline?s:t.elem).type==="checkbox";h=n.params;f=h.props||{};i.baseApply(arguments);i._.inline&&(r=r&&r.markup||"&nbsp;",i._.radio||i._.chkBx?(this.noVal=!1,u=u||"jsv"+Math.random(),o='<input id="'+u+'" data-link="'+h.args[0]+(f.convert?" convert="+f.convert:"")+(f.convertBack?" convertBack="+f.convertBack:"")+(i._.radio?'" name="'+e.id+'" type="radio" value="'+s.value+'"/><label for="'+u+'">'+r+"<\/label>":'" type="checkbox"/><label for="'+u+'">'+r+"<\/label>")):o="<button>"+r+"<\/button>",i.template=o)},onAfterLink:function(n,i){var r=this,u=i.elem,f=r.cvtArgs()[0];r._.radio||r._.chkBx?(r._.inline||(r._.unlinked&&!u.id&&(u.id="jsv"+Math.random(),t(u).after('<label for="'+u.id+'">&nbsp;<\/label>')),u.checked=r._.radio?(u.name=r.parent.id,f===u.value):f&&f!=="false"),r.baseApply(arguments),u=r.linkedElem[0],r._.radio?(u.value==="undefined"&&(u.value=r.widget.option("label")),u.checked=f===u.value):u.checked=f&&f!=="false",r._.chkBx&&r.widget.refresh()):(r._.inline||(u.innerHTML=u.innerHTML||"&nbsp;"),r.baseApply(arguments))},render:r},buttonset:{baseTag:"widget",widgetName:"buttonset",setSize:!0,init:function(n){var t=this;t.baseApply(arguments);t._.inline&&(t.id=n.props.id||"jsv"+Math.random(),t.template='<span id="'+t.id+'">'+n.content.markup+"<\/span>")},render:r,onAfterLink:function(n,i){var r=this,f=i.elem,u=r.cvtArgs()[0];r.baseApply(arguments);r.widget.buttons.each(function(n,i){i.checked=u===i.value;t(i).button("refresh")})}},datepicker:{baseTag:"widget",widgetName:"datepicker",elem:"input",options:function(){var n=this;return{onSelect:function(t){n.value=t;n.update(t)}}},setValue:function(n){n!==i&&n!==this.value&&(this.value=n,this.linkedElem.datepicker("setDate",n))},getValue:function(){return this.value},onAfterLink:function(n){var t=this;t.baseApply(arguments);t.setValue(n.args[0]);t.linkedElem[0].tagName!=="INPUT"&&t.linkedElem.css("display","inline-block")}},droppable:{baseTag:"widget",widgetName:"droppable",wrap:!0},menu:{baseTag:"widget",widgetName:"menu",elem:"ul",wrap:!0,onAfterLink:function(n){var t=this;t.preset={menus:n.props._menus,items:n.props._items};this.baseApply(arguments)}},progressbar:{baseTag:"widget",widgetName:"progressbar",elem:"div",wrap:!0,setSize:!0,setValue:function(n){var t=this;t.widget.value(n||0)},getValue:function(){return this.widget.value()},onAfterLink:function(n){var t=this;t.baseApply(arguments);n.args.length&&t.setValue(t.cvtArgs()[0]);n.props.busy&&t.widget.value(!1)},render:r},resizable:{baseTag:"widget",widgetName:"resizable",wrap:!0,elem:"div"},selectable:{baseTag:"widget",widgetName:"selectable",wrap:!0},selectmenu:{baseTag:"widget",widgetName:"selectmenu",elem:"select",wrap:!0,options:function(){var n=this;return{change:function(t,i){n.update(i.value)}}},setValue:function(n){this.linkedElem[0].value=n;this.widget.refresh()},getValue:function(){return this.linkedElem[0].value},render:r,onAfterLink:function(){var n=this;if(n.baseApply(arguments),n._.unlinked)n.linkedElem.on("jsv-domchange",function(){n.widget.refresh()});n.setValue(n.cvtArgs()[0])}},slider:{baseTag:"widget",widgetName:"slider",elem:"div",setSize:!0,options:function(){var n=this;return{slide:function(t,i){setTimeout(function(){n.update(i.value)},0)}}},setValue:function(n){this.widget.value(n||0)},getValue:function(){return this.widget.value()},onAfterLink:function(){var n=this;n.baseApply(arguments);n.setValue(n.cvtArgs()[0])}},spinner:{baseTag:"widget",widgetName:"spinner",elem:"input",setSize:!0,options:function(){var n=this;return{spin:function(t,i){n.update(i.value)}}},setValue:function(n){this.widget.value(n||0)},getValue:function(){return this.widget.value()}},tabs:{baseTag:"widget",widgetName:"tabs",elem:"div",setSize:!0,wrap:!0}});t.ui.sortable&&t.widget("jsv.sortable",t.ui.sortable,{_create:function(){var r,u,n=this,f=n.options.start,e=n.options.stop;n.option({start:function(n,t){f&&f.apply(this,arguments);r=t.item.view();r.type==="item"&&(u=r.index+1)},stop:function(f,o){var s;u&&(s=o.item.prevAll(o.item[0].tagName).length,n.cancel(),t.observable(r.parent.data).move(u-1,s),u=i);e&&e.apply(this,arguments)}});n._super()}});t.ui.draggable&&t.widget("jsv.draggable",t.ui.draggable,{_create:function(){this.options.helper==="clone"&&(this.options.helper=u);this._super()}});t.ui.accordion&&t.widget("jsv.accordion",t.ui.accordion,{_create:function(){var n=this;n.options.header=n.options.header.replace(":not(li):even",":not(li,script):even");n.element.on("jsv-domchange",function(){n.refresh()});n._super()}});t.views.tags({accordion:{baseTag:"widget",widgetName:"jsv-accordion",wrap:!0,onAfterLink:function(n){var t=this;t.preset={header:n.props._header};this.baseApply(arguments)}},draggable:{baseTag:"widget",widgetName:"jsv-draggable",wrap:!0},sortable:{baseTag:"widget",widgetName:"jsv-sortable",wrap:!0}})})(this,this.jQuery);
//# sourceMappingURL=jsviews-jqueryui-widgets.min.js.map
